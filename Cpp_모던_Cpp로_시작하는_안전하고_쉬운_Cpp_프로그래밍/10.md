# ëª¨ë˜ C++ë¡œ ì‹œì‘í•˜ëŠ” ì•ˆì „í•˜ê³  ì‰¬ìš´ C++ í”„ë¡œê·¸ë˜ë° 

ì €ì: ìµœí¥ë°°, Claude AI   
    
ê¶Œì¥ ê°œë°œ í™˜ê²½
- **IDE**: Visual Studio 2022 (Community ì´ìƒ)
- **ì»´íŒŒì¼ëŸ¬**: MSVC v143 (C++20 ì§€ì›)
- **OS**: Windows 10 ì´ìƒ

-----  
  
# Chapter 10: ëŒë‹¤ í‘œí˜„ì‹ê³¼ í•¨ìˆ˜ ê°ì²´

## 10.1 ëŒë‹¤ í‘œí˜„ì‹ì´ë€?
í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ ê°„ë‹¨í•œ ì‘ì—…ì„ ìœ„í•´ ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì»¨í…Œì´ë„ˆì˜ ì›ì†Œë¥¼ ì •ë ¬í•  ë•Œ ì •ë ¬ ê¸°ì¤€ì„ ì œê³µí•˜ê±°ë‚˜, ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰í•  ë™ì‘ì„ ì „ë‹¬í•´ì•¼ í•  ë•Œê°€ ê·¸ë ‡ë‹¤. ì´ëŸ° ìƒí™©ì—ì„œ ë§¤ë²ˆ ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ ì½”ë“œê°€ ë¶„ì‚°ë˜ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.

ëŒë‹¤ í‘œí˜„ì‹(lambda expression)ì€ ì´ë¦„ ì—†ëŠ” í•¨ìˆ˜ë¥¼ ì¦‰ì„ì—ì„œ ì •ì˜í•  ìˆ˜ ìˆëŠ” Modern C++ì˜ í•µì‹¬ ê¸°ëŠ¥ì´ë‹¤. C++11ì—ì„œ ì²˜ìŒ ë„ì…ëœ ì´í›„ C++14, C++17, C++20, C++23ì„ ê±°ì¹˜ë©° ì§€ì†ì ìœ¼ë¡œ ê°œì„ ë˜ì–´ ì™”ë‹¤. ëŒë‹¤ í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ìœ„ì¹˜ì—ì„œ ë°”ë¡œ í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆì–´ ì½”ë“œì˜ ì‘ì§‘ë„ê°€ ë†’ì•„ì§€ê³  ê°€ë…ì„±ì´ í–¥ìƒëœë‹¤.

### 10.1.1 ëŒë‹¤ í‘œí˜„ì‹ì˜ ê¸°ë³¸ ë¬¸ë²•
ëŒë‹¤ í‘œí˜„ì‹ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```cpp
[ìº¡ì²˜ë¦¬ìŠ¤íŠ¸](ë§¤ê°œë³€ìˆ˜) -> ë°˜í™˜íƒ€ì… { í•¨ìˆ˜ë³¸ë¬¸ }
```

ê° ë¶€ë¶„ì˜ ì˜ë¯¸ë¥¼ ì‚´í´ë³´ì.

- **ìº¡ì²˜ë¦¬ìŠ¤íŠ¸ `[]`**: ëŒë‹¤ í‘œí˜„ì‹ì´ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í• ì§€ ì§€ì •í•œë‹¤.
- **ë§¤ê°œë³€ìˆ˜ `()`**: ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.
- **ë°˜í™˜íƒ€ì… `-> íƒ€ì…`**: ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•œë‹¤. ìƒëµ ê°€ëŠ¥í•˜ë©°, ìƒëµ ì‹œ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì¶”ë¡ í•œë‹¤.
- **í•¨ìˆ˜ë³¸ë¬¸ `{}`**: ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

ê°€ì¥ ê°„ë‹¨í•œ ëŒë‹¤ í‘œí˜„ì‹ë¶€í„° ì‹œì‘í•´ë³´ì.

```cpp
#include <iostream>

int main() {
    // ê°€ì¥ ë‹¨ìˆœí•œ ëŒë‹¤ í‘œí˜„ì‹
    auto hello = []() {
        std::cout << "ì•ˆë…•í•˜ì„¸ìš”!\n";
    };
    
    hello();  // ì¶œë ¥: ì•ˆë…•í•˜ì„¸ìš”!
    
    // ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ëŒë‹¤
    auto greet = [](const std::string& name) {
        std::cout << "ì•ˆë…•í•˜ì„¸ìš”, " << name << "ë‹˜!\n";
    };
    
    greet("ì² ìˆ˜");  // ì¶œë ¥: ì•ˆë…•í•˜ì„¸ìš”, ì² ìˆ˜ë‹˜!
    
    // ë°˜í™˜ê°’ì´ ìˆëŠ” ëŒë‹¤
    auto add = [](int a, int b) {
        return a + b;
    };
    
    std::cout << "3 + 4 = " << add(3, 4) << "\n";  // ì¶œë ¥: 3 + 4 = 7
    
    // ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •
    auto divide = [](double a, double b) -> double {
        if (b == 0.0) return 0.0;
        return a / b;
    };
    
    std::cout << "10 / 3 = " << divide(10.0, 3.0) << "\n";
    
    return 0;
}
```

ìœ„ ì½”ë“œì—ì„œ `auto` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ëŒë‹¤ í‘œí˜„ì‹ì„ ë³€ìˆ˜ì— ì €ì¥í–ˆë‹¤. ëŒë‹¤ í‘œí˜„ì‹ì€ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê³ ìœ í•œ íƒ€ì…ì„ ê°€ì§€ë¯€ë¡œ `auto`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

### 10.1.2 ëŒë‹¤ í‘œí˜„ì‹ì˜ ì‹¤ìš©ì  í™œìš©
ëŒë‹¤ í‘œí˜„ì‹ì€ STL ì•Œê³ ë¦¬ì¦˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì§„ê°€ë¥¼ ë°œíœ˜í•œë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>

int main() {
    std::vector<int> numbers = {5, 2, 8, 1, 9, 3, 7};
    
    // ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ (ê¸°ë³¸)
    std::sort(numbers.begin(), numbers.end());
    
    std::cout << "ì˜¤ë¦„ì°¨ìˆœ: ";
    for (int n : numbers) {
        std::cout << n << " ";
    }
    std::cout << "\n";
    
    // ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ (ëŒë‹¤ ì‚¬ìš©)
    std::sort(numbers.begin(), numbers.end(), [](int a, int b) {
        return a > b;
    });
    
    std::cout << "ë‚´ë¦¼ì°¨ìˆœ: ";
    for (int n : numbers) {
        std::cout << n << " ";
    }
    std::cout << "\n";
    
    // ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì›ì†Œ ê°œìˆ˜ ì„¸ê¸°
    int count = std::count_if(numbers.begin(), numbers.end(), [](int n) {
        return n > 5;
    });
    
    std::cout << "5ë³´ë‹¤ í° ìˆ˜ì˜ ê°œìˆ˜: " << count << "\n";
    
    // ë³µì¡í•œ ì •ë ¬ ê¸°ì¤€
    struct Person {
        std::string name;
        int age;
    };
    
    std::vector<Person> people = {
        {"ê¹€ì² ìˆ˜", 25},
        {"ì´ì˜í¬", 30},
        {"ë°•ë¯¼ìˆ˜", 25},
        {"ì •ìˆ˜ì§„", 28}
    };
    
    // ë‚˜ì´ìˆœ ì •ë ¬, ê°™ìœ¼ë©´ ì´ë¦„ìˆœ
    std::sort(people.begin(), people.end(), [](const Person& a, const Person& b) {
        if (a.age != b.age) {
            return a.age < b.age;
        }
        return a.name < b.name;
    });
    
    std::cout << "\nì •ë ¬ëœ ì‚¬ëŒ ëª©ë¡:\n";
    for (const auto& p : people) {
        std::cout << p.name << " (" << p.age << "ì„¸)\n";
    }
    
    return 0;
}
```
  
  
</br>   
</br>   
  

## 10.2 ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ ì´í•´í•˜ê¸°
ëŒë‹¤ í‘œí˜„ì‹ì˜ ê°€ì¥ ê°•ë ¥í•œ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ìº¡ì²˜í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ `[]`ë¥¼ í†µí•´ ëŒë‹¤ í‘œí˜„ì‹ì´ ì •ì˜ëœ ë²”ìœ„ì˜ ë³€ìˆ˜ë“¤ì„ ì–´ë–»ê²Œ ì‚¬ìš©í• ì§€ ê²°ì •í•  ìˆ˜ ìˆë‹¤.

### 10.2.1 ë¹ˆ ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ `[]`
ë¹ˆ ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šê² ë‹¤ëŠ” ì˜ë¯¸ë‹¤.

```cpp
#include <iostream>

int main() {
    int x = 10;
    
    auto lambda1 = []() {
        // xë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
        std::cout << "ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n";
    };
    
    lambda1();
    
    // ì•„ë˜ ì½”ë“œëŠ” ì»´íŒŒì¼ ì—ëŸ¬
    // auto lambda2 = []() {
    //     std::cout << x << "\n";  // ì˜¤ë¥˜: xë¥¼ ìº¡ì²˜í•˜ì§€ ì•Šì•˜ìŒ
    // };
    
    return 0;
}
```

### 10.2.2 ê°’ ìº¡ì²˜ `[=]`
`[=]`ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ë³µì‚¬í•´ì„œ ìº¡ì²˜í•œë‹¤. ëŒë‹¤ ë‚´ë¶€ì—ì„œ ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•´ë„ ì›ë³¸ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

```cpp
#include <iostream>

int main() {
    int x = 10;
    int y = 20;
    
    auto lambda = [=]() {
        std::cout << "x = " << x << ", y = " << y << "\n";
        // x = 100;  // ì˜¤ë¥˜: ê¸°ë³¸ì ìœ¼ë¡œ const ë³µì‚¬ë³¸ì´ë¯€ë¡œ ìˆ˜ì • ë¶ˆê°€
    };
    
    lambda();  // ì¶œë ¥: x = 10, y = 20
    
    x = 100;
    y = 200;
    
    lambda();  // ì¶œë ¥: x = 10, y = 20 (ìº¡ì²˜ ì‹œì ì˜ ê°’ ìœ ì§€)
    
    // mutable í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì‚¬ë³¸ ìˆ˜ì • ê°€ëŠ¥
    auto mutable_lambda = [=]() mutable {
        x = 999;
        std::cout << "ëŒë‹¤ ë‚´ë¶€ x = " << x << "\n";
    };
    
    mutable_lambda();  // ì¶œë ¥: ëŒë‹¤ ë‚´ë¶€ x = 999
    std::cout << "ì‹¤ì œ x = " << x << "\n";  // ì¶œë ¥: ì‹¤ì œ x = 100 (ì›ë³¸ì€ ê·¸ëŒ€ë¡œ)
    
    return 0;
}
```

### 10.2.3 ì°¸ì¡° ìº¡ì²˜ `[&]`
`[&]`ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì°¸ì¡°ë¡œ ìº¡ì²˜í•œë‹¤. ëŒë‹¤ ë‚´ë¶€ì—ì„œ ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ë©´ ì›ë³¸ë„ ë³€ê²½ëœë‹¤.

```cpp
#include <iostream>

int main() {
    int x = 10;
    int y = 20;
    
    auto lambda = [&]() {
        x = 100;
        y = 200;
        std::cout << "ëŒë‹¤ ë‚´ë¶€: x = " << x << ", y = " << y << "\n";
    };
    
    lambda();  // ì¶œë ¥: ëŒë‹¤ ë‚´ë¶€: x = 100, y = 200
    std::cout << "ì™¸ë¶€: x = " << x << ", y = " << y << "\n";  // ì¶œë ¥: ì™¸ë¶€: x = 100, y = 200
    
    return 0;
}
```

### 10.2.4 ì„ íƒì  ìº¡ì²˜
íŠ¹ì • ë³€ìˆ˜ë§Œ ì„ íƒí•´ì„œ ìº¡ì²˜í•  ìˆ˜ë„ ìˆë‹¤.

```cpp
#include <iostream>

int main() {
    int a = 1, b = 2, c = 3, d = 4;
    
    // aëŠ” ê°’ìœ¼ë¡œ, bëŠ” ì°¸ì¡°ë¡œ ìº¡ì²˜
    auto lambda1 = [a, &b]() {
        std::cout << "a = " << a << ", b = " << b << "\n";
        // a = 10;  // ì˜¤ë¥˜: ê°’ ìº¡ì²˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ const
        b = 20;     // ê°€ëŠ¥: ì°¸ì¡° ìº¡ì²˜
    };
    
    lambda1();
    std::cout << "b = " << b << "\n";  // ì¶œë ¥: b = 20
    
    // cë¥¼ ì œì™¸í•œ ëª¨ë“  ë³€ìˆ˜ë¥¼ ì°¸ì¡°ë¡œ ìº¡ì²˜, cë§Œ ê°’ìœ¼ë¡œ ìº¡ì²˜
    auto lambda2 = [&, c]() {
        std::cout << "a = " << a << ", b = " << b << ", c = " << c << ", d = " << d << "\n";
        // c = 30;  // ì˜¤ë¥˜: cëŠ” ê°’ ìº¡ì²˜
        d = 40;     // ê°€ëŠ¥: dëŠ” ì°¸ì¡° ìº¡ì²˜
    };
    
    lambda2();
    std::cout << "d = " << d << "\n";  // ì¶œë ¥: d = 40
    
    // aë¥¼ ì œì™¸í•œ ëª¨ë“  ë³€ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ìº¡ì²˜, aë§Œ ì°¸ì¡°ë¡œ ìº¡ì²˜
    auto lambda3 = [=, &a]() mutable {
        a = 100;
        b = 200;  // ë³µì‚¬ë³¸ ìˆ˜ì •
        c = 300;  // ë³µì‚¬ë³¸ ìˆ˜ì •
    };
    
    lambda3();
    std::cout << "a = " << a << "\n";  // ì¶œë ¥: a = 100 (ì°¸ì¡° ìº¡ì²˜)
    std::cout << "b = " << b << "\n";  // ì¶œë ¥: b = 20 (ê°’ ìº¡ì²˜, ì›ë³¸ ë¶ˆë³€)
    
    return 0;
}
```

### 10.2.5 this í¬ì¸í„° ìº¡ì²˜
í´ë˜ìŠ¤ì˜ ë©¤ë²„ í•¨ìˆ˜ ë‚´ì—ì„œ ëŒë‹¤ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” `this` í¬ì¸í„°ë¥¼ ìº¡ì²˜í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

class DataProcessor {
private:
    int threshold;
    std::vector<int> data;

public:
    DataProcessor(int t) : threshold(t) {
        data = {1, 5, 3, 8, 2, 9, 4, 7, 6};
    }
    
    void processWithValueCapture() {
        // [=]ë¡œ thisë¥¼ ê°’ìœ¼ë¡œ ìº¡ì²˜ (C++20 ì´ì „ ë°©ì‹)
        auto count = std::count_if(data.begin(), data.end(), [=](int value) {
            return value > threshold;
        });
        
        std::cout << threshold << "ë³´ë‹¤ í° ê°’ì˜ ê°œìˆ˜: " << count << "\n";
    }
    
    void processWithThisCapture() {
        // [this]ë¡œ ëª…ì‹œì ìœ¼ë¡œ this í¬ì¸í„° ìº¡ì²˜
        auto count = std::count_if(data.begin(), data.end(), [this](int value) {
            return value > this->threshold;
        });
        
        std::cout << threshold << "ë³´ë‹¤ í° ê°’ì˜ ê°œìˆ˜: " << count << "\n";
    }
    
    void processWithCopyCapture() {
        // [*this]ë¡œ ê°ì²´ë¥¼ ë³µì‚¬í•´ì„œ ìº¡ì²˜ (C++17ë¶€í„°)
        auto count = std::count_if(data.begin(), data.end(), [*this](int value) {
            return value > threshold;
        });
        
        std::cout << threshold << "ë³´ë‹¤ í° ê°’ì˜ ê°œìˆ˜: " << count << "\n";
    }
    
    void modifyData() {
        // ë©¤ë²„ ë³€ìˆ˜ ì§ì ‘ ìˆ˜ì •
        std::for_each(data.begin(), data.end(), [this](int& value) {
            if (value < threshold) {
                value = threshold;
            }
        });
        
        std::cout << "ìˆ˜ì •ëœ ë°ì´í„°: ";
        for (int v : data) {
            std::cout << v << " ";
        }
        std::cout << "\n";
    }
};

int main() {
    DataProcessor processor(5);
    
    processor.processWithValueCapture();
    processor.processWithThisCapture();
    processor.processWithCopyCapture();
    processor.modifyData();
    
    return 0;
}
```

### 10.2.6 ìº¡ì²˜ ì´ˆê¸°í™” (C++14)
C++14ë¶€í„°ëŠ” ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì¼ë°˜í™”ëœ ëŒë‹¤ ìº¡ì²˜(generalized lambda capture)ë¼ê³  í•œë‹¤.

```cpp
#include <iostream>
#include <memory>
#include <string>

int main() {
    int x = 10;
    
    // ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì´ˆê¸°í™”
    auto lambda1 = [y = x + 5]() {
        std::cout << "y = " << y << "\n";
    };
    
    lambda1();  // ì¶œë ¥: y = 15
    
    // ì´ë™ ìº¡ì²˜ (unique_ptr ê°™ì€ ì´ë™ ì „ìš© íƒ€ì…ì— ìœ ìš©)
    auto ptr = std::make_unique<std::string>("Hello");
    
    auto lambda2 = [p = std::move(ptr)]() {
        std::cout << "ë¬¸ìì—´: " << *p << "\n";
    };
    
    lambda2();  // ì¶œë ¥: ë¬¸ìì—´: Hello
    // std::cout << *ptr << "\n";  // ì˜¤ë¥˜: ptrì€ ì´ë¯¸ ì´ë™ë¨
    
    // ë³µì¡í•œ ì´ˆê¸°í™”
    auto lambda3 = [
        value = x * 2,
        name = std::string("ê³„ì‚°ê²°ê³¼"),
        vec = std::vector<int>{1, 2, 3}
    ]() {
        std::cout << name << ": " << value << "\n";
        std::cout << "ë²¡í„° í¬ê¸°: " << vec.size() << "\n";
    };
    
    lambda3();
    
    return 0;
}
```
   

</br>   
</br>   
  

## 10.3 std::functionê³¼ í•¨ìˆ˜ í¬ì¸í„°
ëŒë‹¤ í‘œí˜„ì‹ì„ ë³€ìˆ˜ì— ì €ì¥í•˜ê±°ë‚˜ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•  ë•ŒëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.

### 10.3.1 autoë¥¼ ì‚¬ìš©í•œ ì €ì¥
ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ `auto` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

```cpp
#include <iostream>

int main() {
    auto add = [](int a, int b) {
        return a + b;
    };
    
    std::cout << add(3, 4) << "\n";  // ì¶œë ¥: 7
    
    return 0;
}
```

í•˜ì§€ë§Œ `auto`ëŠ” íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•Šê³ , í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¡œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.

### 10.3.2 std::function ì‚¬ìš©í•˜ê¸°
`std::function`ì€ ëª¨ë“  í˜¸ì¶œ ê°€ëŠ¥í•œ ê°ì²´(ëŒë‹¤, í•¨ìˆ˜ í¬ì¸í„°, í•¨ìˆ˜ ê°ì²´ ë“±)ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” ë²”ìš© í•¨ìˆ˜ ë˜í¼ë‹¤.

```cpp
#include <iostream>
#include <functional>
#include <vector>

// std::functionì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜
void executeOperation(std::function<int(int, int)> op, int a, int b) {
    std::cout << "ê²°ê³¼: " << op(a, b) << "\n";
}

int main() {
    // ëŒë‹¤ë¥¼ std::functionì— ì €ì¥
    std::function<int(int, int)> add = [](int a, int b) {
        return a + b;
    };
    
    std::function<int(int, int)> multiply = [](int a, int b) {
        return a * b;
    };
    
    executeOperation(add, 10, 5);       // ì¶œë ¥: ê²°ê³¼: 15
    executeOperation(multiply, 10, 5);  // ì¶œë ¥: ê²°ê³¼: 50
    
    // ëŒë‹¤ë¥¼ ì§ì ‘ ì „ë‹¬
    executeOperation([](int a, int b) { return a - b; }, 10, 5);  // ì¶œë ¥: ê²°ê³¼: 5
    
    // í•¨ìˆ˜ë“¤ì„ ì»¨í…Œì´ë„ˆì— ì €ì¥
    std::vector<std::function<void()>> tasks;
    
    tasks.push_back([]() { std::cout << "ì‘ì—… 1 ì‹¤í–‰\n"; });
    tasks.push_back([]() { std::cout << "ì‘ì—… 2 ì‹¤í–‰\n"; });
    tasks.push_back([]() { std::cout << "ì‘ì—… 3 ì‹¤í–‰\n"; });
    
    std::cout << "\nëª¨ë“  ì‘ì—… ì‹¤í–‰:\n";
    for (const auto& task : tasks) {
        task();
    }
    
    return 0;
}
```

`std::function`ì˜ í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ëŠ” `ë°˜í™˜íƒ€ì…(ë§¤ê°œë³€ìˆ˜íƒ€ì…ë“¤)` í˜•ì‹ìœ¼ë¡œ ì§€ì •í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `std::function<int(int, int)>`ëŠ” ë‘ ê°œì˜ `int`ë¥¼ ë°›ì•„ `int`ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë‹¤.

### 10.3.3 í•¨ìˆ˜ í¬ì¸í„°
ìº¡ì²˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëŒë‹¤ëŠ” í•¨ìˆ˜ í¬ì¸í„°ë¡œ ë³€í™˜ë  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>

// í•¨ìˆ˜ í¬ì¸í„°ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜
void callFunction(int (*func)(int, int), int a, int b) {
    std::cout << "ê²°ê³¼: " << func(a, b) << "\n";
}

int main() {
    // ìº¡ì²˜ê°€ ì—†ëŠ” ëŒë‹¤ëŠ” í•¨ìˆ˜ í¬ì¸í„°ë¡œ ë³€í™˜ ê°€ëŠ¥
    int (*add_ptr)(int, int) = [](int a, int b) {
        return a + b;
    };
    
    std::cout << add_ptr(3, 4) << "\n";  // ì¶œë ¥: 7
    
    callFunction([](int a, int b) { return a * b; }, 3, 4);  // ì¶œë ¥: ê²°ê³¼: 12
    
    // ìº¡ì²˜ê°€ ìˆëŠ” ëŒë‹¤ëŠ” í•¨ìˆ˜ í¬ì¸í„°ë¡œ ë³€í™˜ ë¶ˆê°€
    int x = 10;
    // int (*bad_ptr)(int) = [x](int a) { return a + x; };  // ì˜¤ë¥˜!
    
    // í•˜ì§€ë§Œ std::functionì€ ê°€ëŠ¥
    std::function<int(int)> good_func = [x](int a) { return a + x; };
    std::cout << good_func(5) << "\n";  // ì¶œë ¥: 15
    
    return 0;
}
```

### 10.3.4 ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­
`auto`ì™€ `std::function`ì˜ ì„±ëŠ¥ ì°¨ì´ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

```cpp
#include <iostream>
#include <functional>
#include <chrono>

int main() {
    const int iterations = 100'000'000;
    
    // auto ì‚¬ìš© (ì¸ë¼ì¸ ìµœì í™” ê°€ëŠ¥)
    auto lambda_auto = [](int x) { return x * 2; };
    
    auto start1 = std::chrono::high_resolution_clock::now();
    long long sum1 = 0;
    for (int i = 0; i < iterations; ++i) {
        sum1 += lambda_auto(i);
    }
    auto end1 = std::chrono::high_resolution_clock::now();
    
    // std::function ì‚¬ìš© (ê°„ì ‘ í˜¸ì¶œ, ì˜¤ë²„í—¤ë“œ ìˆìŒ)
    std::function<int(int)> lambda_func = [](int x) { return x * 2; };
    
    auto start2 = std::chrono::high_resolution_clock::now();
    long long sum2 = 0;
    for (int i = 0; i < iterations; ++i) {
        sum2 += lambda_func(i);
    }
    auto end2 = std::chrono::high_resolution_clock::now();
    
    auto duration1 = std::chrono::duration_cast<std::chrono::milliseconds>(end1 - start1);
    auto duration2 = std::chrono::duration_cast<std::chrono::milliseconds>(end2 - start2);
    
    std::cout << "auto ì‚¬ìš© ì‹œê°„: " << duration1.count() << "ms\n";
    std::cout << "std::function ì‚¬ìš© ì‹œê°„: " << duration2.count() << "ms\n";
    
    return 0;
}
```

ì¼ë°˜ì ìœ¼ë¡œ `auto`ê°€ ë” ë¹ ë¥´ì§€ë§Œ, `std::function`ì€ íƒ€ì… ì†Œê±°(type erasure)ë¥¼ í†µí•´ ë‹¤ì–‘í•œ í˜¸ì¶œ ê°€ëŠ¥ ê°ì²´ë¥¼ ë™ì¼í•œ íƒ€ì…ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš° `auto`ë‚˜ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ê³ , ìœ ì—°ì„±ì´ í•„ìš”í•œ ê²½ìš° `std::function`ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
  

</br>   
</br>   
  

## 10.4 ì½œë°± í•¨ìˆ˜ì™€ ì´ë²¤íŠ¸ ì²˜ë¦¬
ëŒë‹¤ í‘œí˜„ì‹ì˜ ê°€ì¥ ì‹¤ìš©ì ì¸ í™œìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ëŠ” ì½œë°± í•¨ìˆ˜ì™€ ì´ë²¤íŠ¸ ì²˜ë¦¬ë‹¤.

### 10.4.1 ì½œë°± í•¨ìˆ˜ì˜ ê¸°ë³¸ ê°œë…
ì½œë°± í•¨ìˆ˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì–´ íŠ¹ì • ì‹œì ì— í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ëŒë‹¤ í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ë©´ ì½œë°± í•¨ìˆ˜ë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <functional>
#include <vector>
#include <string>

class Button {
private:
    std::string label;
    std::function<void()> onClick;

public:
    Button(const std::string& lbl) : label(lbl) {}
    
    void setOnClick(std::function<void()> callback) {
        onClick = callback;
    }
    
    void click() {
        std::cout << "[" << label << "] ë²„íŠ¼ í´ë¦­!\n";
        if (onClick) {
            onClick();
        }
    }
};

int main() {
    Button saveButton("ì €ì¥");
    Button loadButton("ë¶ˆëŸ¬ì˜¤ê¸°");
    Button exitButton("ì¢…ë£Œ");
    
    // ê° ë²„íŠ¼ì— ëŒë‹¤ë¡œ ì½œë°± ë“±ë¡
    saveButton.setOnClick([]() {
        std::cout << "  â†’ íŒŒì¼ì„ ì €ì¥í•©ë‹ˆë‹¤.\n";
    });
    
    loadButton.setOnClick([]() {
        std::cout << "  â†’ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.\n";
    });
    
    int clickCount = 0;
    exitButton.setOnClick([&clickCount]() {
        clickCount++;
        std::cout << "  â†’ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. (í´ë¦­ " << clickCount << "íšŒ)\n";
    });
    
    // ë²„íŠ¼ í´ë¦­ ì‹œë®¬ë ˆì´ì…˜
    saveButton.click();
    loadButton.click();
    exitButton.click();
    exitButton.click();
    
    return 0;
}
```

### 10.4.2 ë‹¤ì¤‘ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ì— ì—¬ëŸ¬ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ì•¼ í•  ë•Œê°€ ë§ë‹¤.

```cpp
#include <iostream>
#include <functional>
#include <vector>
#include <string>

class EventEmitter {
private:
    std::vector<std::function<void(const std::string&)>> listeners;

public:
    void addEventListener(std::function<void(const std::string&)> listener) {
        listeners.push_back(listener);
    }
    
    void emit(const std::string& message) {
        for (const auto& listener : listeners) {
            listener(message);
        }
    }
};

int main() {
    EventEmitter emitter;
    
    // ì—¬ëŸ¬ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    emitter.addEventListener([](const std::string& msg) {
        std::cout << "[ë¡œê·¸] " << msg << "\n";
    });
    
    emitter.addEventListener([](const std::string& msg) {
        std::cout << "[ì•Œë¦¼] ìƒˆ ë©”ì‹œì§€: " << msg << "\n";
    });
    
    int messageCount = 0;
    emitter.addEventListener([&messageCount](const std::string& msg) {
        messageCount++;
        std::cout << "[ì¹´ìš´í„°] ì´ " << messageCount << "ê°œì˜ ë©”ì‹œì§€ ìˆ˜ì‹ \n";
    });
    
    // ì´ë²¤íŠ¸ ë°œìƒ
    std::cout << "=== ì²« ë²ˆì§¸ ì´ë²¤íŠ¸ ===\n";
    emitter.emit("ì•ˆë…•í•˜ì„¸ìš”");
    
    std::cout << "\n=== ë‘ ë²ˆì§¸ ì´ë²¤íŠ¸ ===\n";
    emitter.emit("ë°˜ê°‘ìŠµë‹ˆë‹¤");
    
    return 0;
}
```

### 10.4.3 ì¡°ê±´ë¶€ ì½œë°±
íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ì½œë°±ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <functional>
#include <vector>

template<typename T>
class Observable {
private:
    T value;
    std::vector<std::function<void(const T&, const T&)>> observers;

public:
    Observable(const T& initial) : value(initial) {}
    
    void onChange(std::function<void(const T&, const T&)> callback) {
        observers.push_back(callback);
    }
    
    void setValue(const T& newValue) {
        if (newValue != value) {
            T oldValue = value;
            value = newValue;
            
            // ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ì•Œë¦¼
            for (const auto& observer : observers) {
                observer(oldValue, newValue);
            }
        }
    }
    
    const T& getValue() const {
        return value;
    }
};

int main() {
    Observable<int> score(0);
    
    // ì ìˆ˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¡œê·¸ ì¶œë ¥
    score.onChange([](int oldVal, int newVal) {
        std::cout << "ì ìˆ˜ ë³€ê²½: " << oldVal << " â†’ " << newVal << "\n";
    });
    
    // ì ìˆ˜ê°€ 100 ì´ìƒì´ ë˜ë©´ ì¶•í•˜ ë©”ì‹œì§€
    score.onChange([](int oldVal, int newVal) {
        if (newVal >= 100 && oldVal < 100) {
            std::cout << "ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! 100ì  ë‹¬ì„±!\n";
        }
    });
    
    // ì ìˆ˜ê°€ ê°ì†Œí•˜ë©´ ê²½ê³ 
    score.onChange([](int oldVal, int newVal) {
        if (newVal < oldVal) {
            std::cout << "âš ï¸  ì ìˆ˜ê°€ ê°ì†Œí–ˆìŠµë‹ˆë‹¤.\n";
        }
    });
    
    // ì ìˆ˜ ë³€ê²½ ì‹œë®¬ë ˆì´ì…˜
    score.setValue(50);
    score.setValue(80);
    score.setValue(100);
    score.setValue(120);
    score.setValue(90);
    
    return 0;
}
```
  

</br>   
</br>   
  

## 10.5 í•¨ìˆ˜ ê°ì²´ (Functor)
ëŒë‹¤ í‘œí˜„ì‹ì´ ë“±ì¥í•˜ê¸° ì „ì—ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ ì‚¬ìš©í–ˆë‹¤. í•¨ìˆ˜ ê°ì²´ëŠ” `operator()`ë¥¼ ì˜¤ë²„ë¡œë”©í•œ í´ë˜ìŠ¤ì˜ ê°ì²´ë‹¤. ëŒë‹¤ í‘œí˜„ì‹ì€ ì‚¬ì‹¤ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ê°ì²´ì˜ ë¬¸ë²•ì  ì„¤íƒ•(syntactic sugar)ì´ë‹¤.

### 10.5.1 í•¨ìˆ˜ ê°ì²´ì˜ ê¸°ë³¸

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

// í•¨ìˆ˜ ê°ì²´ í´ë˜ìŠ¤
class Multiplier {
private:
    int factor;

public:
    Multiplier(int f) : factor(f) {}
    
    int operator()(int x) const {
        return x * factor;
    }
};

// ë¹„êµ í•¨ìˆ˜ ê°ì²´
class DescendingOrder {
public:
    bool operator()(int a, int b) const {
        return a > b;
    }
};

int main() {
    // í•¨ìˆ˜ ê°ì²´ ì‚¬ìš©
    Multiplier multiplyBy3(3);
    std::cout << multiplyBy3(10) << "\n";  // ì¶œë ¥: 30
    std::cout << multiplyBy3(5) << "\n";   // ì¶œë ¥: 15
    
    // STL ì•Œê³ ë¦¬ì¦˜ê³¼ í•¨ê»˜ ì‚¬ìš©
    std::vector<int> numbers = {5, 2, 8, 1, 9};
    std::sort(numbers.begin(), numbers.end(), DescendingOrder());
    
    std::cout << "ë‚´ë¦¼ì°¨ìˆœ: ";
    for (int n : numbers) {
        std::cout << n << " ";
    }
    std::cout << "\n";
    
    // ëŒë‹¤ë¡œ ë™ì¼í•œ ì‘ì—… ìˆ˜í–‰ (í›¨ì”¬ ê°„ê²°)
    int factor = 3;
    auto lambda_multiply = [factor](int x) { return x * factor; };
    std::cout << lambda_multiply(10) << "\n";  // ì¶œë ¥: 30
    
    std::sort(numbers.begin(), numbers.end(), [](int a, int b) {
        return a > b;
    });
    
    return 0;
}
```

### 10.5.2 ìƒíƒœë¥¼ ê°€ì§„ í•¨ìˆ˜ ê°ì²´
í•¨ìˆ˜ ê°ì²´ì˜ ì¥ì ì€ ë‚´ë¶€ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

class Counter {
private:
    int count;

public:
    Counter() : count(0) {}
    
    void operator()(int x) {
        count++;
        std::cout << count << "ë²ˆì§¸ í˜¸ì¶œ: " << x << "\n";
    }
    
    int getCount() const {
        return count;
    }
};

int main() {
    std::vector<int> numbers = {1, 2, 3, 4, 5};
    
    Counter counter;
    counter = std::for_each(numbers.begin(), numbers.end(), counter);
    
    std::cout << "ì´ í˜¸ì¶œ íšŸìˆ˜: " << counter.getCount() << "\n";
    
    // ëŒë‹¤ë¡œ ë™ì¼í•œ ì‘ì—… (mutable ì‚¬ìš©)
    int lambda_count = 0;
    std::for_each(numbers.begin(), numbers.end(), [&lambda_count](int x) {
        lambda_count++;
        std::cout << lambda_count << "ë²ˆì§¸ í˜¸ì¶œ: " << x << "\n";
    });
    
    std::cout << "ì´ í˜¸ì¶œ íšŸìˆ˜: " << lambda_count << "\n";
    
    return 0;
}
```

### 10.5.3 ëŒë‹¤ vs í•¨ìˆ˜ ê°ì²´
ëŒë‹¤ í‘œí˜„ì‹ê³¼ í•¨ìˆ˜ ê°ì²´ëŠ” ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

```cpp
#include <iostream>
#include <algorithm>
#include <vector>

// ë³µì¡í•œ ë¡œì§ì„ ê°€ì§„ í•¨ìˆ˜ ê°ì²´ - ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„±ì´ ì¢‹ìŒ
class RangeValidator {
private:
    int min;
    int max;
    int invalidCount;

public:
    RangeValidator(int minVal, int maxVal) 
        : min(minVal), max(maxVal), invalidCount(0) {}
    
    bool operator()(int value) {
        if (value < min || value > max) {
            invalidCount++;
            std::cout << "ë²”ìœ„ ë²—ì–´ë‚¨: " << value << "\n";
            return false;
        }
        return true;
    }
    
    int getInvalidCount() const {
        return invalidCount;
    }
};

int main() {
    std::vector<int> data = {5, 15, 25, 35, 45, 55};
    
    // í•¨ìˆ˜ ê°ì²´ ì‚¬ìš© - ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ì— ì í•©
    RangeValidator validator(10, 40);
    std::vector<int> validData;
    std::copy_if(data.begin(), data.end(), 
                 std::back_inserter(validData), 
                 std::ref(validator));
    
    std::cout << "ìœ íš¨í•˜ì§€ ì•Šì€ ê°’ì˜ ê°œìˆ˜: " << validator.getInvalidCount() << "\n";
    
    // ëŒë‹¤ ì‚¬ìš© - ê°„ë‹¨í•œ ì¼íšŒì„± ì‘ì—…ì— ì í•©
    std::vector<int> evenNumbers;
    std::copy_if(data.begin(), data.end(),
                 std::back_inserter(evenNumbers),
                 [](int x) { return x % 2 == 0; });
    
    std::cout << "ì§ìˆ˜ ê°œìˆ˜: " << evenNumbers.size() << "\n";
    
    return 0;
}
```

**ì‚¬ìš© ê°€ì´ë“œë¼ì¸:**

- **ëŒë‹¤ ì‚¬ìš©ì´ ì í•©í•œ ê²½ìš°**: ê°„ë‹¨í•œ ë¡œì§, í•œ ê³³ì—ì„œë§Œ ì‚¬ìš©, ì§§ì€ ì½”ë“œ
- **í•¨ìˆ˜ ê°ì²´ ì‚¬ìš©ì´ ì í•©í•œ ê²½ìš°**: ë³µì¡í•œ ë¡œì§, ì—¬ëŸ¬ ê³³ì—ì„œ ì¬ì‚¬ìš©, ë§ì€ ìƒíƒœ ê´€ë¦¬, ëª…í™•í•œ ì´ë¦„ í•„ìš”
  

</br>   
</br>   
  

## 10.6 ì‹¤ìŠµ ë¬¸ì œ

### ì‹¤ìŠµ 10-1: ë°ì´í„° í•„í„°ë§
ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ë¼.

1. ì •ìˆ˜ ë²¡í„°ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.
2. ì§ìˆ˜ë§Œ í•„í„°ë§í•˜ëŠ” í•¨ìˆ˜ë¥¼ ëŒë‹¤ë¡œ ì‘ì„±í•œë‹¤.
3. í™€ìˆ˜ë§Œ í•„í„°ë§í•˜ëŠ” í•¨ìˆ˜ë¥¼ ëŒë‹¤ë¡œ ì‘ì„±í•œë‹¤.
4. íŠ¹ì • ê°’ë³´ë‹¤ í° ìˆ˜ë§Œ í•„í„°ë§í•˜ëŠ” í•¨ìˆ˜ë¥¼ ëŒë‹¤ë¡œ ì‘ì„±í•œë‹¤.
5. ê° í•„í„°ë§ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.

**ì˜ˆìƒ ì¶œë ¥:**

```
ì›ë³¸ ë°ì´í„°: 1 2 3 4 5 6 7 8 9 10
ì§ìˆ˜: 2 4 6 8 10
í™€ìˆ˜: 1 3 5 7 9
5ë³´ë‹¤ í° ìˆ˜: 6 7 8 9 10
```

### ì‹¤ìŠµ 10-2: ê°„ë‹¨í•œ ê³„ì‚°ê¸°
ëŒë‹¤ í‘œí˜„ì‹ê³¼ `std::function`ì„ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ ê³„ì‚°ê¸°ë¥¼ ë§Œë“¤ì–´ë¼.

1. ë§ì…ˆ, ëº„ì…ˆ, ê³±ì…ˆ, ë‚˜ëˆ—ì…ˆ ì—°ì‚°ì„ ëŒë‹¤ë¡œ ì •ì˜í•œë‹¤.
2. ì—°ì‚°ì ë¬¸ì(+, -, *, /)ë¥¼ ì…ë ¥ë°›ì•„ í•´ë‹¹í•˜ëŠ” ëŒë‹¤ë¥¼ ì‹¤í–‰í•œë‹¤.
3. ë‚˜ëˆ—ì…ˆì˜ ê²½ìš° 0ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•œë‹¤.

**ì˜ˆìƒ ì‹¤í–‰:**

```
ì²« ë²ˆì§¸ ìˆ«ì: 10
ì—°ì‚°ì (+, -, *, /): *
ë‘ ë²ˆì§¸ ìˆ«ì: 5
ê²°ê³¼: 50
```

### ì‹¤ìŠµ 10-3: ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ
ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ê°„ë‹¨í•œ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë¼.

1. ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
2. ì—¬ëŸ¬ ê°œì˜ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
3. ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ë©´ ëª¨ë“  ë¦¬ìŠ¤ë„ˆê°€ í˜¸ì¶œëœë‹¤.
4. íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œë§Œ ì‹¤í–‰ë˜ëŠ” ì¡°ê±´ë¶€ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

```cpp
// ì‚¬ìš© ì˜ˆì‹œ
EventSystem events;
events.on("message", [](const std::string& data) {
    std::cout << "ë©”ì‹œì§€ ìˆ˜ì‹ : " << data << "\n";
});
events.emit("message", "ì•ˆë…•í•˜ì„¸ìš”");
```
   

</br>   
</br>   
  
  
## 10.7 ì‹¬í™” ë‚´ìš©

### 10.7.1 ì œë„¤ë¦­ ëŒë‹¤ (C++14)
C++14ë¶€í„°ëŠ” ëŒë‹¤ì˜ ë§¤ê°œë³€ìˆ˜ì— `auto`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <string>
#include <vector>

int main() {
    // ì œë„¤ë¦­ ëŒë‹¤ - ì–´ë–¤ íƒ€ì…ì´ë“  ë°›ì„ ìˆ˜ ìˆìŒ
    auto print = [](const auto& value) {
        std::cout << value << "\n";
    };
    
    print(42);              // int
    print(3.14);            // double
    print("Hello");         // const char*
    print(std::string("World"));  // std::string
    
    // ì—¬ëŸ¬ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜
    auto add = [](const auto& a, const auto& b) {
        return a + b;
    };
    
    std::cout << add(3, 4) << "\n";           // 7
    std::cout << add(3.5, 2.5) << "\n";       // 6.0
    std::cout << add(std::string("Hello"), std::string(" World")) << "\n";  // Hello World
    
    // ì»¨í…Œì´ë„ˆì˜ ì›ì†Œ íƒ€ì…ì— ê´€ê³„ì—†ì´ ì‚¬ìš©
    auto printAll = [](const auto& container) {
        for (const auto& item : container) {
            std::cout << item << " ";
        }
        std::cout << "\n";
    };
    
    std::vector<int> numbers = {1, 2, 3, 4, 5};
    std::vector<std::string> words = {"C++", "is", "awesome"};
    
    printAll(numbers);
    printAll(words);
    
    return 0;
}
```

### 10.7.2 í…œí”Œë¦¿ ëŒë‹¤ (C++20)
C++20ì—ì„œëŠ” ëŒë‹¤ì— ëª…ì‹œì ì¸ í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <concepts>

int main() {
    // í…œí”Œë¦¿ ëŒë‹¤
    auto print = []<typename T>(const T& value) {
        std::cout << "íƒ€ì…: " << typeid(T).name() << ", ê°’: " << value << "\n";
    };
    
    print(42);
    print(3.14);
    print("Hello");
    
    // í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ íŒ© ì‚¬ìš©
    auto sum = []<typename... Args>(Args... args) {
        return (args + ...);
    };
    
    std::cout << "í•©ê³„: " << sum(1, 2, 3, 4, 5) << "\n";  // 15
    
    // Concepts ì‚¬ìš©
    auto printIntegral = []<std::integral T>(T value) {
        std::cout << "ì •ìˆ˜í˜• ê°’: " << value << "\n";
    };
    
    printIntegral(42);
    // printIntegral(3.14);  // ì˜¤ë¥˜: doubleì€ integralì´ ì•„ë‹˜
    
    return 0;
}
```

### 10.7.3 ì¦‰ì‹œ ì‹¤í–‰ ëŒë‹¤ (IIFE - Immediately Invoked Function Expression)
ëŒë‹¤ë¥¼ ì •ì˜í•˜ìë§ˆì ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <vector>

int main() {
    // const ë³€ìˆ˜ë¥¼ ì¡°ê±´ë¶€ë¡œ ì´ˆê¸°í™”
    const int value = [](int x) {
        if (x > 0) return x * 2;
        else if (x < 0) return -x;
        else return 1;
    }(-5);
    
    std::cout << "value = " << value << "\n";  // 5
    
    // ë³µì¡í•œ ì´ˆê¸°í™” ë¡œì§
    const auto data = []() {
        std::vector<int> result;
        for (int i = 0; i < 10; ++i) {
            if (i % 2 == 0) {
                result.push_back(i * i);
            }
        }
        return result;
    }();
    
    std::cout << "data: ";
    for (int n : data) {
        std::cout << n << " ";
    }
    std::cout << "\n";
    
    // ì¡°ê±´ë¶€ ì‹¤í–‰
    int mode = 2;
    [mode]() {
        switch (mode) {
            case 1: std::cout << "ëª¨ë“œ 1 ì‹¤í–‰\n"; break;
            case 2: std::cout << "ëª¨ë“œ 2 ì‹¤í–‰\n"; break;
            default: std::cout << "ê¸°ë³¸ ëª¨ë“œ ì‹¤í–‰\n"; break;
        }
    }();
    
    return 0;
}
```

### 10.7.4 ì¬ê·€ ëŒë‹¤
ëŒë‹¤ ì•ˆì—ì„œ ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ë ¤ë©´ `std::function`ì´ë‚˜ `auto`ë¥¼ í™œìš©í•´ì•¼ í•œë‹¤.

```cpp
#include <iostream>
#include <functional>

int main() {
    // std::functionì„ ì‚¬ìš©í•œ ì¬ê·€ ëŒë‹¤
    std::function<int(int)> factorial = [&factorial](int n) -> int {
        if (n <= 1) return 1;
        return n * factorial(n - 1);
    };
    
    std::cout << "5! = " << factorial(5) << "\n";  // 120
    
    // C++23ì˜ ëª…ì‹œì  thisë¥¼ ì‚¬ìš©í•œ ì¬ê·€ (ë” ê°„ê²°)
    // auto fibonacci = [](this auto self, int n) -> int {
    //     if (n <= 1) return n;
    //     return self(n - 1) + self(n - 2);
    // };
    
    // Y-Combinatorë¥¼ ì‚¬ìš©í•œ ì¬ê·€ (ê³ ê¸‰ ê¸°ë²•)
    auto Y = [](auto f) {
        return [f](auto... args) {
            return f(f, args...);
        };
    };
    
    auto fib = Y([](auto self, int n) -> int {
        if (n <= 1) return n;
        return self(self, n - 1) + self(self, n - 2);
    });
    
    std::cout << "í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´: ";
    for (int i = 0; i < 10; ++i) {
        std::cout << fib(i) << " ";
    }
    std::cout << "\n";
    
    return 0;
}
```

### 10.7.5 ì‹¤ì „ í™œìš©: ì²´ì´ë‹ ê°€ëŠ¥í•œ API
ëŒë‹¤ë¥¼ í™œìš©í•˜ì—¬ ìœ ì°½í•œ ì¸í„°í˜ì´ìŠ¤(fluent interface)ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <functional>
#include <algorithm>

template<typename T>
class Pipeline {
private:
    std::vector<T> data;

public:
    Pipeline(std::vector<T> d) : data(std::move(d)) {}
    
    Pipeline& filter(std::function<bool(const T&)> predicate) {
        std::vector<T> filtered;
        std::copy_if(data.begin(), data.end(), 
                     std::back_inserter(filtered), predicate);
        data = std::move(filtered);
        return *this;
    }
    
    Pipeline& transform(std::function<T(const T&)> mapper) {
        std::transform(data.begin(), data.end(), data.begin(), mapper);
        return *this;
    }
    
    void forEach(std::function<void(const T&)> action) {
        std::for_each(data.begin(), data.end(), action);
    }
    
    std::vector<T> collect() {
        return data;
    }
};

int main() {
    std::vector<int> numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    
    auto result = Pipeline(numbers)
        .filter([](int x) { return x % 2 == 0; })     // ì§ìˆ˜ë§Œ
        .transform([](int x) { return x * x; })       // ì œê³±
        .filter([](int x) { return x > 20; })         // 20ë³´ë‹¤ í° ê²ƒë§Œ
        .collect();
    
    std::cout << "ê²°ê³¼: ";
    for (int n : result) {
        std::cout << n << " ";
    }
    std::cout << "\n";
    
    // ì¶œë ¥ ì²´ì´ë‹
    Pipeline(std::vector<std::string>{"hello", "world", "c++", "lambda"})
        .filter([](const auto& s) { return s.length() > 3; })
        .transform([](const auto& s) { 
            std::string upper = s;
            for (char& c : upper) c = std::toupper(c);
            return upper;
        })
        .forEach([](const auto& s) { std::cout << s << "\n"; });
    
    return 0;
}
```

ì´ ì¥ì—ì„œëŠ” ëŒë‹¤ í‘œí˜„ì‹ì˜ ê¸°ë³¸ë¶€í„° ê³ ê¸‰ í™œìš©ê¹Œì§€ ì‚´í´ë³´ì•˜ë‹¤. ëŒë‹¤ í‘œí˜„ì‹ì€ Modern C++ì—ì„œ ê°€ì¥ ê°•ë ¥í•˜ê³  ìì£¼ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ë‹¤. ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ìœ ì—°í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆê³ , `std::function`ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì½œë°±ê³¼ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ê¹”ë”í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒ ì¥ì—ì„œëŠ” ìŠ¤ë§ˆíŠ¸ í¬ì¸í„°ë¥¼ í†µí•´ ì•ˆì „í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ë²•ì„ ë°°ìš¸ ê²ƒì´ë‹¤.   