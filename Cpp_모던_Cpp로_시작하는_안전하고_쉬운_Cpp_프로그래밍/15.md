# ëª¨ë˜ C++ë¡œ ì‹œì‘í•˜ëŠ” ì•ˆì „í•˜ê³  ì‰¬ìš´ C++ í”„ë¡œê·¸ë˜ë° 

ì €ì: ìµœí¥ë°°, Claude AI   
    
ê¶Œì¥ ê°œë°œ í™˜ê²½
- **IDE**: Visual Studio 2022 (Community ì´ìƒ)
- **ì»´íŒŒì¼ëŸ¬**: MSVC v143 (C++20 ì§€ì›)
- **OS**: Windows 10 ì´ìƒ

-----  
  
# Chapter 15: ìƒì†ê³¼ ë‹¤í˜•ì„±
ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ê°œë… ì¤‘ í•˜ë‚˜ì¸ ìƒì†(Inheritance)ê³¼ ë‹¤í˜•ì„±(Polymorphism)ì„ ì´ë²ˆ ì¥ì—ì„œ ë‹¤ë£¬ë‹¤. ìƒì†ì€ ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, ë‹¤í˜•ì„±ì€ í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ì—¬ëŸ¬ íƒ€ì…ì˜ ê°ì²´ë¥¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•œë‹¤. Modern C++ì˜ `override`, `final` í‚¤ì›Œë“œë¥¼ í™œìš©í•˜ë©´ ë”ìš± ì•ˆì „í•˜ê³  ëª…í™•í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

## 15.1 ìƒì†ì˜ ê¸°ë³¸ ê°œë…

### 15.1.1 ìƒì†ì´ë€?
ìƒì†ì€ ê¸°ì¡´ í´ë˜ìŠ¤(ê¸°ë³¸ í´ë˜ìŠ¤ ë˜ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤)ì˜ íŠ¹ì„±ì„ ë¬¼ë ¤ë°›ì•„ ìƒˆë¡œìš´ í´ë˜ìŠ¤(íŒŒìƒ í´ë˜ìŠ¤ ë˜ëŠ” ìì‹ í´ë˜ìŠ¤)ë¥¼ ë§Œë“œëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§€ê³  ê³„ì¸µì  êµ¬ì¡°ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

í˜„ì‹¤ ì„¸ê³„ì˜ ì˜ˆë¥¼ ìƒê°í•´ë³´ì. "ë™ë¬¼"ì´ë¼ëŠ” ì¼ë°˜ì ì¸ ê°œë…ì´ ìˆê³ , "ê°œ", "ê³ ì–‘ì´", "ìƒˆ"ëŠ” ëª¨ë‘ ë™ë¬¼ì´ë‹¤. ì´ë“¤ì€ ë™ë¬¼ì˜ ê³µí†µ íŠ¹ì„±(ë¨¹ë‹¤, ì›€ì§ì´ë‹¤)ì„ ë¬¼ë ¤ë°›ìœ¼ë©´ì„œë„ ê°ìë§Œì˜ ê³ ìœ í•œ íŠ¹ì„±(ì§–ë‹¤, ì•¼ì˜¹ê±°ë¦¬ë‹¤, ë‚ ë‹¤)ì„ ê°€ì§„ë‹¤.

```cpp
#include <iostream>
#include <string>

// ê¸°ë³¸ í´ë˜ìŠ¤ (Base Class, Parent Class)
class Animal {
protected:
    std::string name_;
    int age_;
    
public:
    Animal(const std::string& name, int age) 
        : name_(name), age_(age) {
        std::cout << "Animal ìƒì„±ì: " << name_ << "\n";
    }
    
    void Eat() const {
        std::cout << name_ << "ì´(ê°€) ë¨¹ì´ë¥¼ ë¨¹ëŠ”ë‹¤.\n";
    }
    
    void Sleep() const {
        std::cout << name_ << "ì´(ê°€) ì ì„ ì”ë‹¤.\n";
    }
    
    virtual ~Animal() {
        std::cout << "Animal ì†Œë©¸ì: " << name_ << "\n";
    }
};

// íŒŒìƒ í´ë˜ìŠ¤ (Derived Class, Child Class)
class Dog : public Animal {
private:
    std::string breed_;
    
public:
    Dog(const std::string& name, int age, const std::string& breed)
        : Animal(name, age), breed_(breed) {
        std::cout << "Dog ìƒì„±ì: " << name_ << " (" << breed_ << ")\n";
    }
    
    void Bark() const {
        std::cout << name_ << "ì´(ê°€) ì§–ëŠ”ë‹¤: ë©ë©!\n";
    }
    
    ~Dog() {
        std::cout << "Dog ì†Œë©¸ì: " << name_ << "\n";
    }
};

class Cat : public Animal {
private:
    bool isIndoor_;
    
public:
    Cat(const std::string& name, int age, bool isIndoor)
        : Animal(name, age), isIndoor_(isIndoor) {
        std::cout << "Cat ìƒì„±ì: " << name_ << "\n";
    }
    
    void Meow() const {
        std::cout << name_ << "ì´(ê°€) ìš´ë‹¤: ì•¼ì˜¹~\n";
    }
    
    ~Cat() {
        std::cout << "Cat ì†Œë©¸ì: " << name_ << "\n";
    }
};

int main() {
    std::cout << "=== Dog ê°ì²´ ìƒì„± ===\n";
    Dog myDog("ë©ë©ì´", 3, "ì§„ë—ê°œ");
    myDog.Eat();    // Animalì—ì„œ ìƒì†ë°›ì€ í•¨ìˆ˜
    myDog.Sleep();  // Animalì—ì„œ ìƒì†ë°›ì€ í•¨ìˆ˜
    myDog.Bark();   // Dogë§Œì˜ ê³ ìœ  í•¨ìˆ˜
    
    std::cout << "\n=== Cat ê°ì²´ ìƒì„± ===\n";
    Cat myCat("ë‚˜ë¹„", 2, true);
    myCat.Eat();    // Animalì—ì„œ ìƒì†ë°›ì€ í•¨ìˆ˜
    myCat.Sleep();  // Animalì—ì„œ ìƒì†ë°›ì€ í•¨ìˆ˜
    myCat.Meow();   // Catë§Œì˜ ê³ ìœ  í•¨ìˆ˜
    
    std::cout << "\n=== í”„ë¡œê·¸ë¨ ì¢…ë£Œ ===\n";
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== Dog ê°ì²´ ìƒì„± ===
Animal ìƒì„±ì: ë©ë©ì´
Dog ìƒì„±ì: ë©ë©ì´ (ì§„ë—ê°œ)
ë©ë©ì´ì´(ê°€) ë¨¹ì´ë¥¼ ë¨¹ëŠ”ë‹¤.
ë©ë©ì´ì´(ê°€) ì ì„ ì”ë‹¤.
ë©ë©ì´ì´(ê°€) ì§–ëŠ”ë‹¤: ë©ë©!

=== Cat ê°ì²´ ìƒì„± ===
Animal ìƒì„±ì: ë‚˜ë¹„
Cat ìƒì„±ì: ë‚˜ë¹„
ë‚˜ë¹„ì´(ê°€) ë¨¹ì´ë¥¼ ë¨¹ëŠ”ë‹¤.
ë‚˜ë¹„ì´(ê°€) ì ì„ ì”ë‹¤.
ë‚˜ë¹„ì´(ê°€) ìš´ë‹¤: ì•¼ì˜¹~

=== í”„ë¡œê·¸ë¨ ì¢…ë£Œ ===
Cat ì†Œë©¸ì: ë‚˜ë¹„
Animal ì†Œë©¸ì: ë‚˜ë¹„
Dog ì†Œë©¸ì: ë©ë©ì´
Animal ì†Œë©¸ì: ë©ë©ì´
```


### 15.1.2 ìƒì†ì˜ êµ¬ë¬¸

```cpp
class íŒŒìƒí´ë˜ìŠ¤ì´ë¦„ : ì ‘ê·¼ì§€ì •ì ê¸°ë³¸í´ë˜ìŠ¤ì´ë¦„ {
    // íŒŒìƒ í´ë˜ìŠ¤ì˜ ë©¤ë²„ë“¤
};
```

ê°€ì¥ ì¼ë°˜ì ì¸ í˜•íƒœëŠ” `public` ìƒì†ì´ë‹¤.

```cpp
class Base {
    // ê¸°ë³¸ í´ë˜ìŠ¤ ë‚´ìš©
};

class Derived : public Base {
    // íŒŒìƒ í´ë˜ìŠ¤ ë‚´ìš©
};
```

### 15.1.3 ìƒì„±ìì™€ ì†Œë©¸ìì˜ í˜¸ì¶œ ìˆœì„œ
ìƒì† ê´€ê³„ì—ì„œ ìƒì„±ìì™€ ì†Œë©¸ìëŠ” íŠ¹ì • ìˆœì„œë¡œ í˜¸ì¶œëœë‹¤.

**ìƒì„± ìˆœì„œ:**
1. ê¸°ë³¸ í´ë˜ìŠ¤ ìƒì„±ì
2. íŒŒìƒ í´ë˜ìŠ¤ ë©¤ë²„ ë³€ìˆ˜ ì´ˆê¸°í™”
3. íŒŒìƒ í´ë˜ìŠ¤ ìƒì„±ì ë³¸ë¬¸

**ì†Œë©¸ ìˆœì„œ:**
1. íŒŒìƒ í´ë˜ìŠ¤ ì†Œë©¸ì
2. íŒŒìƒ í´ë˜ìŠ¤ ë©¤ë²„ ë³€ìˆ˜ ì†Œë©¸
3. ê¸°ë³¸ í´ë˜ìŠ¤ ì†Œë©¸ì

```cpp
#include <iostream>

class Base {
public:
    Base() { std::cout << "1. Base ìƒì„±ì\n"; }
    ~Base() { std::cout << "4. Base ì†Œë©¸ì\n"; }
};

class Member {
public:
    Member() { std::cout << "2. Member ìƒì„±ì\n"; }
    ~Member() { std::cout << "3. Member ì†Œë©¸ì\n"; }
};

class Derived : public Base {
private:
    Member member_;
    
public:
    Derived() { std::cout << "3. Derived ìƒì„±ì\n"; }
    ~Derived() { std::cout << "2. Derived ì†Œë©¸ì\n"; }
};

int main() {
    std::cout << "=== ê°ì²´ ìƒì„± ===\n";
    Derived d;
    std::cout << "\n=== ê°ì²´ ì†Œë©¸ ===\n";
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== ê°ì²´ ìƒì„± ===
1. Base ìƒì„±ì
2. Member ìƒì„±ì
3. Derived ìƒì„±ì

=== ê°ì²´ ì†Œë©¸ ===
2. Derived ì†Œë©¸ì
3. Member ì†Œë©¸ì
4. Base ì†Œë©¸ì
```

### 15.1.4 íŒŒìƒ í´ë˜ìŠ¤ì—ì„œ ê¸°ë³¸ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
íŒŒìƒ í´ë˜ìŠ¤ ìƒì„±ìëŠ” ëª…ì‹œì ìœ¼ë¡œ ê¸°ë³¸ í´ë˜ìŠ¤ ìƒì„±ìë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

```cpp
#include <iostream>
#include <string>

class Person {
protected:
    std::string name_;
    int age_;
    
public:
    Person(const std::string& name, int age)
        : name_(name), age_(age) {
        std::cout << "Person ìƒì„±: " << name_ << ", " << age_ << "ì„¸\n";
    }
    
    virtual ~Person() = default;
    
    void Introduce() const {
        std::cout << "ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” " << name_ << "ì´ê³  ";
        std::cout << age_ << "ì„¸ì…ë‹ˆë‹¤.\n";
    }
};

class Student : public Person {
private:
    std::string school_;
    int grade_;
    
public:
    // ê¸°ë³¸ í´ë˜ìŠ¤ ìƒì„±ìë¥¼ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œ
    Student(const std::string& name, int age, const std::string& school, int grade)
        : Person(name, age),  // ê¸°ë³¸ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
          school_(school),
          grade_(grade) {
        std::cout << "Student ìƒì„±: " << school_ << " " << grade_ << "í•™ë…„\n";
    }
    
    void Study() const {
        std::cout << name_ << "ì´(ê°€) " << school_ << "ì—ì„œ ê³µë¶€í•œë‹¤.\n";
    }
};

int main() {
    Student student("ê¹€ì² ìˆ˜", 16, "ì„œìš¸ê³ ë“±í•™êµ", 1);
    student.Introduce();
    student.Study();
    
    return 0;
}
```
  

</br>  
</br>  
  

## 15.2 `public`, `protected`, `private` ìƒì†

### 15.2.1 ì ‘ê·¼ ì§€ì •ìì˜ ì˜ë¯¸
ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ë©¤ë²„ë¥¼ íŒŒìƒ í´ë˜ìŠ¤ì—ì„œ ì–´ë–»ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ëŠ” ì ‘ê·¼ ì§€ì •ìì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.

**ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ì ‘ê·¼ ì§€ì •ì:**
- `public`: í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
- `protected`: íŒŒìƒ í´ë˜ìŠ¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
- `private`: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

```cpp
#include <iostream>

class Base {
public:
    int publicMember_;
    
protected:
    int protectedMember_;
    
private:
    int privateMember_;
    
public:
    Base() : publicMember_(1), protectedMember_(2), privateMember_(3) {}
    
    void ShowMembers() const {
        std::cout << "Base í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ:\n";
        std::cout << "  public: " << publicMember_ << "\n";
        std::cout << "  protected: " << protectedMember_ << "\n";
        std::cout << "  private: " << privateMember_ << "\n";
    }
};

class Derived : public Base {
public:
    void AccessMembers() {
        std::cout << "Derived í´ë˜ìŠ¤ì—ì„œ:\n";
        std::cout << "  public: " << publicMember_ << " (ì ‘ê·¼ ê°€ëŠ¥)\n";
        std::cout << "  protected: " << protectedMember_ << " (ì ‘ê·¼ ê°€ëŠ¥)\n";
        // std::cout << privateMember_;  // ì˜¤ë¥˜! private ë©¤ë²„ëŠ” ì ‘ê·¼ ë¶ˆê°€
    }
};

int main() {
    Derived d;
    
    std::cout << "ì™¸ë¶€ì—ì„œ:\n";
    std::cout << "  public: " << d.publicMember_ << " (ì ‘ê·¼ ê°€ëŠ¥)\n";
    // std::cout << d.protectedMember_;  // ì˜¤ë¥˜! protectedëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
    // std::cout << d.privateMember_;    // ì˜¤ë¥˜! privateëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
    
    std::cout << "\n";
    d.ShowMembers();
    
    std::cout << "\n";
    d.AccessMembers();
    
    return 0;
}
```

### 15.2.2 ìƒì† ë°©ì‹ì— ë”°ë¥¸ ì ‘ê·¼ ê¶Œí•œ ë³€í™”
ìƒì† ì‹œ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ ì§€ì •ìì— ë”°ë¼ ê¸°ë³¸ í´ë˜ìŠ¤ ë©¤ë²„ì˜ ì ‘ê·¼ ê¶Œí•œì´ ë‹¬ë¼ì§„ë‹¤.

**`public` ìƒì† (ê°€ì¥ ì¼ë°˜ì ):**
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `public` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `public`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `protected` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `protected`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `private` â†’ ì ‘ê·¼ ë¶ˆê°€

**`protected` ìƒì†:**
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `public` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `protected`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `protected` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `protected`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `private` â†’ ì ‘ê·¼ ë¶ˆê°€

**`private` ìƒì†:**
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `public` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `private`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `protected` â†’ íŒŒìƒ í´ë˜ìŠ¤ì˜ `private`
- ê¸°ë³¸ í´ë˜ìŠ¤ì˜ `private` â†’ ì ‘ê·¼ ë¶ˆê°€

```cpp
#include <iostream>

class Base {
public:
    void PublicFunc() { std::cout << "Base::PublicFunc()\n"; }
protected:
    void ProtectedFunc() { std::cout << "Base::ProtectedFunc()\n"; }
private:
    void PrivateFunc() { std::cout << "Base::PrivateFunc()\n"; }
};

// public ìƒì†
class PublicDerived : public Base {
public:
    void Test() {
        PublicFunc();      // OK
        ProtectedFunc();   // OK
        // PrivateFunc();  // ì˜¤ë¥˜!
    }
};

// protected ìƒì†
class ProtectedDerived : protected Base {
public:
    void Test() {
        PublicFunc();      // OK (í•˜ì§€ë§Œ ì´ì œ protected)
        ProtectedFunc();   // OK
    }
};

// private ìƒì†
class PrivateDerived : private Base {
public:
    void Test() {
        PublicFunc();      // OK (í•˜ì§€ë§Œ ì´ì œ private)
        ProtectedFunc();   // OK (í•˜ì§€ë§Œ ì´ì œ private)
    }
};

int main() {
    PublicDerived pd;
    pd.PublicFunc();  // OK: public ìƒì†ì´ë¯€ë¡œ publicìœ¼ë¡œ ìœ ì§€
    
    ProtectedDerived prd;
    // prd.PublicFunc();  // ì˜¤ë¥˜! protected ìƒì†ìœ¼ë¡œ protectedê°€ ë¨
    
    PrivateDerived pvd;
    // pvd.PublicFunc();  // ì˜¤ë¥˜! private ìƒì†ìœ¼ë¡œ privateê°€ ë¨
    
    return 0;
}
```

**Modern C++ ê¶Œì¥ì‚¬í•­:** ëŒ€ë¶€ë¶„ì˜ ê²½ìš° `public` ìƒì†ì„ ì‚¬ìš©í•œë‹¤. `protected`ë‚˜ `private` ìƒì†ì€ íŠ¹ìˆ˜í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ë©°, ì¼ë°˜ì ì¸ "is-a" ê´€ê³„ë¥¼ í‘œí˜„í•  ë•ŒëŠ” í•­ìƒ `public` ìƒì†ì„ ì‚¬ìš©í•œë‹¤.

### 15.2.3 ì‹¤ìš©ì ì¸ ì˜ˆì œ: ê²Œì„ ìºë¦­í„° ê³„ì¸µ

```cpp
#include <iostream>
#include <string>

class Character {
protected:
    std::string name_;
    int health_;
    int maxHealth_;
    int level_;
    
public:
    Character(const std::string& name, int maxHealth, int level)
        : name_(name), 
          health_(maxHealth), 
          maxHealth_(maxHealth), 
          level_(level) {
    }
    
    virtual ~Character() = default;
    
    void TakeDamage(int damage) {
        health_ -= damage;
        if (health_ < 0) health_ = 0;
        std::cout << name_ << "ì´(ê°€) " << damage << "ì˜ í”¼í•´ë¥¼ ì…ì—ˆë‹¤. ";
        std::cout << "ë‚¨ì€ ì²´ë ¥: " << health_ << "/" << maxHealth_ << "\n";
    }
    
    void Heal(int amount) {
        health_ += amount;
        if (health_ > maxHealth_) health_ = maxHealth_;
        std::cout << name_ << "ì´(ê°€) " << amount << "ë§Œí¼ íšŒë³µí–ˆë‹¤. ";
        std::cout << "í˜„ì¬ ì²´ë ¥: " << health_ << "/" << maxHealth_ << "\n";
    }
    
    bool IsAlive() const {
        return health_ > 0;
    }
    
    void DisplayStatus() const {
        std::cout << "[" << name_ << "] ";
        std::cout << "ë ˆë²¨: " << level_ << ", ";
        std::cout << "ì²´ë ¥: " << health_ << "/" << maxHealth_ << "\n";
    }
};

class Warrior : public Character {
private:
    int stamina_;
    
public:
    Warrior(const std::string& name, int level)
        : Character(name, 150 + level * 20, level),
          stamina_(100) {
    }
    
    void PowerAttack() {
        if (stamina_ >= 30) {
            stamina_ -= 30;
            std::cout << name_ << "ì´(ê°€) ê°•ë ¥í•œ ê³µê²©ì„ ì‹œì „í–ˆë‹¤! ";
            std::cout << "(ìŠ¤íƒœë¯¸ë‚˜: " << stamina_ << ")\n";
        } else {
            std::cout << name_ << "ì˜ ìŠ¤íƒœë¯¸ë‚˜ê°€ ë¶€ì¡±í•˜ë‹¤.\n";
        }
    }
    
    void DefensiveStance() {
        std::cout << name_ << "ì´(ê°€) ë°©ì–´ íƒœì„¸ë¥¼ ì·¨í–ˆë‹¤.\n";
    }
};

class Mage : public Character {
private:
    int mana_;
    
public:
    Mage(const std::string& name, int level)
        : Character(name, 80 + level * 10, level),
          mana_(200 + level * 15) {
    }
    
    void CastFireball() {
        if (mana_ >= 50) {
            mana_ -= 50;
            std::cout << name_ << "ì´(ê°€) íŒŒì´ì–´ë³¼ì„ ì‹œì „í–ˆë‹¤! ";
            std::cout << "(ë§ˆë‚˜: " << mana_ << ")\n";
        } else {
            std::cout << name_ << "ì˜ ë§ˆë‚˜ê°€ ë¶€ì¡±í•˜ë‹¤.\n";
        }
    }
    
    void Meditate() {
        mana_ += 30;
        std::cout << name_ << "ì´(ê°€) ëª…ìƒí•˜ì—¬ ë§ˆë‚˜ë¥¼ íšŒë³µí–ˆë‹¤. ";
        std::cout << "(ë§ˆë‚˜: " << mana_ << ")\n";
    }
};

int main() {
    Warrior warrior("ì „ì‚¬", 5);
    Mage mage("ë§ˆë²•ì‚¬", 5);
    
    std::cout << "=== ì´ˆê¸° ìƒíƒœ ===\n";
    warrior.DisplayStatus();
    mage.DisplayStatus();
    
    std::cout << "\n=== ì „íˆ¬ ì‹œì‘ ===\n";
    warrior.PowerAttack();
    mage.CastFireball();
    
    std::cout << "\n=== í”¼í•´ ì…ìŒ ===\n";
    warrior.TakeDamage(50);
    mage.TakeDamage(30);
    
    std::cout << "\n=== íšŒë³µ ===\n";
    warrior.Heal(20);
    mage.Meditate();
    
    std::cout << "\n=== ìµœì¢… ìƒíƒœ ===\n";
    warrior.DisplayStatus();
    mage.DisplayStatus();
    
    return 0;
}
``` 
   

</br>  
</br>  
  

## 15.3 ê°€ìƒ í•¨ìˆ˜ì™€ `virtual` í‚¤ì›Œë“œ

### 15.3.1 ë‹¤í˜•ì„±ì˜ í•„ìš”ì„±
ë‹¤í˜•ì„±(Polymorphism)ì€ í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ì—¬ëŸ¬ íƒ€ì…ì„ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ í•¨ìˆ˜ë¡œëŠ” ì§„ì •í•œ ë‹¤í˜•ì„±ì„ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤.

```cpp
#include <iostream>
#include <string>

class Shape {
protected:
    std::string name_;
    
public:
    Shape(const std::string& name) : name_(name) {}
    
    // ê°€ìƒ í•¨ìˆ˜ê°€ ì•„ë‹Œ ì¼ë°˜ í•¨ìˆ˜
    void Draw() const {
        std::cout << "Shapeì„ ê·¸ë¦°ë‹¤.\n";
    }
};

class Circle : public Shape {
public:
    Circle() : Shape("Circle") {}
    
    void Draw() const {
        std::cout << "â—‹ ì›ì„ ê·¸ë¦°ë‹¤.\n";
    }
};

class Rectangle : public Shape {
public:
    Rectangle() : Shape("Rectangle") {}
    
    void Draw() const {
        std::cout << "â–¡ ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤.\n";
    }
};

int main() {
    Circle circle;
    Rectangle rectangle;
    
    std::cout << "=== ì§ì ‘ í˜¸ì¶œ ===\n";
    circle.Draw();      // Circle::Draw() í˜¸ì¶œ
    rectangle.Draw();   // Rectangle::Draw() í˜¸ì¶œ
    
    std::cout << "\n=== í¬ì¸í„°ë¥¼ í†µí•œ í˜¸ì¶œ (ë¬¸ì œ ë°œìƒ!) ===\n";
    Shape* shapes[2];
    shapes[0] = &circle;
    shapes[1] = &rectangle;
    
    for (int i = 0; i < 2; ++i) {
        shapes[i]->Draw();  // ëª¨ë‘ Shape::Draw() í˜¸ì¶œ! (ì›í•˜ëŠ” ë™ì‘ ì•„ë‹˜)
    }
    
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== ì§ì ‘ í˜¸ì¶œ ===
â—‹ ì›ì„ ê·¸ë¦°ë‹¤.
â–¡ ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤.

=== í¬ì¸í„°ë¥¼ í†µí•œ í˜¸ì¶œ (ë¬¸ì œ ë°œìƒ!) ===
Shapeì„ ê·¸ë¦°ë‹¤.
Shapeì„ ê·¸ë¦°ë‹¤.
```

ê¸°ë³¸ í´ë˜ìŠ¤ í¬ì¸í„°ë¡œ íŒŒìƒ í´ë˜ìŠ¤ ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ë•Œ, ì¼ë°˜ í•¨ìˆ˜ëŠ” ì»´íŒŒì¼ ì‹œê°„ì— ê²°ì •ë˜ë¯€ë¡œ(ì •ì  ë°”ì¸ë”©) í•­ìƒ ê¸°ë³¸ í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.

### 15.3.2 ê°€ìƒ í•¨ìˆ˜ì˜ ë„ì…
`virtual` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ **ë™ì  ë°”ì¸ë”©(Dynamic Binding)**ì´ ê°€ëŠ¥í•´ì§„ë‹¤. í•¨ìˆ˜ í˜¸ì¶œì´ ì‹¤í–‰ ì‹œê°„ì— ê²°ì •ë˜ì–´ ì‹¤ì œ ê°ì²´ íƒ€ì…ì— ë§ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

class Shape {
protected:
    std::string name_;
    
public:
    Shape(const std::string& name) : name_(name) {}
    
    // ê°€ìƒ í•¨ìˆ˜ë¡œ ì„ ì–¸
    virtual void Draw() const {
        std::cout << "Shapeì„ ê·¸ë¦°ë‹¤.\n";
    }
    
    virtual double GetArea() const {
        return 0.0;
    }
    
    // ê°€ìƒ ì†Œë©¸ì (ì¤‘ìš”!)
    virtual ~Shape() {
        std::cout << name_ << " ì†Œë©¸\n";
    }
    
    std::string GetName() const { return name_; }
};

class Circle : public Shape {
private:
    double radius_;
    
public:
    Circle(double radius) 
        : Shape("Circle"), radius_(radius) {}
    
    // ê°€ìƒ í•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë”©
    virtual void Draw() const {
        std::cout << "â—‹ ë°˜ì§€ë¦„ " << radius_ << "ì¸ ì›ì„ ê·¸ë¦°ë‹¤.\n";
    }
    
    virtual double GetArea() const {
        return 3.14159 * radius_ * radius_;
    }
};

class Rectangle : public Shape {
private:
    double width_;
    double height_;
    
public:
    Rectangle(double width, double height)
        : Shape("Rectangle"), width_(width), height_(height) {}
    
    virtual void Draw() const {
        std::cout << "â–¡ " << width_ << "x" << height_ << " ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤.\n";
    }
    
    virtual double GetArea() const {
        return width_ * height_;
    }
};

int main() {
    // ìŠ¤ë§ˆíŠ¸ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•œ ë‹¤í˜•ì„± (Modern C++)
    std::vector<std::unique_ptr<Shape>> shapes;
    
    shapes.push_back(std::make_unique<Circle>(5.0));
    shapes.push_back(std::make_unique<Rectangle>(4.0, 6.0));
    shapes.push_back(std::make_unique<Circle>(3.0));
    
    std::cout << "=== ëª¨ë“  ë„í˜• ê·¸ë¦¬ê¸° ===\n";
    for (const auto& shape : shapes) {
        shape->Draw();  // ê° ê°ì²´ì˜ ì‹¤ì œ íƒ€ì…ì— ë§ëŠ” Draw() í˜¸ì¶œ!
        std::cout << "ë„“ì´: " << shape->GetArea() << "\n\n";
    }
    
    std::cout << "=== í”„ë¡œê·¸ë¨ ì¢…ë£Œ (ìë™ ì†Œë©¸) ===\n";
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== ëª¨ë“  ë„í˜• ê·¸ë¦¬ê¸° ===
â—‹ ë°˜ì§€ë¦„ 5ì¸ ì›ì„ ê·¸ë¦°ë‹¤.
ë„“ì´: 78.5398

â–¡ 4x6 ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤.
ë„“ì´: 24

â—‹ ë°˜ì§€ë¦„ 3ì¸ ì›ì„ ê·¸ë¦°ë‹¤.
ë„“ì´: 28.2743

=== í”„ë¡œê·¸ë¨ ì¢…ë£Œ (ìë™ ì†Œë©¸) ===
Circle ì†Œë©¸
Rectangle ì†Œë©¸
Circle ì†Œë©¸
```

### 15.3.3 ê°€ìƒ ì†Œë©¸ìì˜ ì¤‘ìš”ì„±
ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìëŠ” **ë°˜ë“œì‹œ `virtual`ë¡œ ì„ ì–¸**í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>

class Base {
public:
    Base() { std::cout << "Base ìƒì„±ì\n"; }
    
    // ê°€ìƒ ì†Œë©¸ìê°€ ì•„ë‹˜ (ìœ„í—˜!)
    ~Base() { std::cout << "Base ì†Œë©¸ì\n"; }
};

class Derived : public Base {
private:
    int* data_;
    
public:
    Derived() : data_(new int[100]) {
        std::cout << "Derived ìƒì„±ì (ë©”ëª¨ë¦¬ í• ë‹¹)\n";
    }
    
    ~Derived() {
        std::cout << "Derived ì†Œë©¸ì (ë©”ëª¨ë¦¬ í•´ì œ)\n";
        delete[] data_;
    }
};

int main() {
    std::cout << "=== ë¬¸ì œ ìˆëŠ” ì½”ë“œ ===\n";
    Base* ptr = new Derived();
    delete ptr;  // Derived ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì§€ ì•ŠìŒ! ë©”ëª¨ë¦¬ ëˆ„ìˆ˜!
    
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== ë¬¸ì œ ìˆëŠ” ì½”ë“œ ===
Base ìƒì„±ì
Derived ìƒì„±ì (ë©”ëª¨ë¦¬ í• ë‹¹)
Base ì†Œë©¸ì
```

`Derived` ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ì§€ ì•Šì•˜ë‹¤!

**ì˜¬ë°”ë¥¸ ì½”ë“œ:**

```cpp
#include <iostream>

class Base {
public:
    Base() { std::cout << "Base ìƒì„±ì\n"; }
    
    // ê°€ìƒ ì†Œë©¸ìë¡œ ì„ ì–¸
    virtual ~Base() { std::cout << "Base ì†Œë©¸ì\n"; }
};

class Derived : public Base {
private:
    int* data_;
    
public:
    Derived() : data_(new int[100]) {
        std::cout << "Derived ìƒì„±ì (ë©”ëª¨ë¦¬ í• ë‹¹)\n";
    }
    
    ~Derived() {
        std::cout << "Derived ì†Œë©¸ì (ë©”ëª¨ë¦¬ í•´ì œ)\n";
        delete[] data_;
    }
};

int main() {
    std::cout << "=== ì˜¬ë°”ë¥¸ ì½”ë“œ ===\n";
    Base* ptr = new Derived();
    delete ptr;  // Derived ì†Œë©¸ìê°€ ì˜¬ë°”ë¥´ê²Œ í˜¸ì¶œë¨!
    
    return 0;
}
```

**ì¶œë ¥ ê²°ê³¼:**
```
=== ì˜¬ë°”ë¥¸ ì½”ë“œ ===
Base ìƒì„±ì
Derived ìƒì„±ì (ë©”ëª¨ë¦¬ í• ë‹¹)
Derived ì†Œë©¸ì (ë©”ëª¨ë¦¬ í•´ì œ)
Base ì†Œë©¸ì
```

**Modern C++ ê¶Œì¥ì‚¬í•­:** ìƒì†ì„ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤ëŠ” í•­ìƒ ê°€ìƒ ì†Œë©¸ìë¥¼ ì„ ì–¸í•˜ê±°ë‚˜, ìƒì†ì„ ê¸ˆì§€í•˜ë¼ (`final` í‚¤ì›Œë“œ ì‚¬ìš©).
  

</br>  
</br>  
    

## 15.4 `override`ì™€ `final` í‚¤ì›Œë“œ (C++11)

### 15.4.1 `override` - ëª…ì‹œì  ì˜¤ë²„ë¼ì´ë”©
C++11ë¶€í„° ë„ì…ëœ `override` í‚¤ì›Œë“œëŠ” í•¨ìˆ˜ê°€ ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ê°€ìƒ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  ìˆìŒì„ ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œí•œë‹¤. ì´ëŠ” ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ëŠ” ë° ë§¤ìš° ìœ ìš©í•˜ë‹¤.

```cpp
#include <iostream>

class Base {
public:
    virtual void Function1() const {
        std::cout << "Base::Function1()\n";
    }
    
    virtual void Function2(int value) {
        std::cout << "Base::Function2(" << value << ")\n";
    }
    
    virtual ~Base() = default;
};

class Derived : public Base {
public:
    // override í‚¤ì›Œë“œë¡œ ëª…ì‹œì  í‘œì‹œ
    void Function1() const override {
        std::cout << "Derived::Function1()\n";
    }
    
    // ì‹¤ìˆ˜: ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì´ ë‹¤ë¦„
    // void Function2(double value) override {  // ì»´íŒŒì¼ ì˜¤ë¥˜! ì˜¤ë²„ë¼ì´ë“œí•  í•¨ìˆ˜ê°€ ì—†ìŒ
    //     std::cout << "Derived::Function2(" << value << ")\n";
    // }
    
    // ì˜¬ë°”ë¥¸ ì˜¤ë²„ë¼ì´ë“œ
    void Function2(int value) override {
        std::cout << "Derived::Function2(" << value << ")\n";
    }
};

int main() {
    Base* ptr = new Derived();
    ptr->Function1();
    ptr->Function2(42);
    delete ptr;
    
    return 0;
}
```

`override` í‚¤ì›Œë“œê°€ ì—†ì—ˆë‹¤ë©´, `Function2(double value)`ë¥¼ ìƒˆë¡œìš´ í•¨ìˆ˜ë¡œ ê°„ì£¼í•˜ì—¬ ì»´íŒŒì¼ì€ ì„±ê³µí•˜ì§€ë§Œ ì˜ë„í•œ ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì•˜ì„ ê²ƒì´ë‹¤.

**`override` í‚¤ì›Œë“œì˜ ì¥ì :**
1. ì˜¤ë²„ë¼ì´ë“œ ì˜ë„ë¥¼ ëª…í™•íˆ í‘œí˜„
2. ê¸°ë³¸ í´ë˜ìŠ¤ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ ì‹œ ì»´íŒŒì¼ ì˜¤ë¥˜ë¡œ ê°ì§€
3. ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
4. ë¦¬íŒ©í† ë§ ì‹œ ì•ˆì „ì„± ì¦ê°€

### 15.4.2 `final` - ì˜¤ë²„ë¼ì´ë”© ê¸ˆì§€
`final` í‚¤ì›Œë“œëŠ” ë‘ ê°€ì§€ ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤:
1. ê°€ìƒ í•¨ìˆ˜ì˜ ì¶”ê°€ ì˜¤ë²„ë¼ì´ë”© ê¸ˆì§€
2. í´ë˜ìŠ¤ì˜ ìƒì† ê¸ˆì§€

**ê°€ìƒ í•¨ìˆ˜ì— `final` ì‚¬ìš©:**

```cpp
#include <iostream>

class Base {
public:
    virtual void NormalFunction() {
        std::cout << "Base::NormalFunction()\n";
    }
    
    virtual void FinalFunction() final {  // ë” ì´ìƒ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€
        std::cout << "Base::FinalFunction()\n";
    }
    
    virtual ~Base() = default;
};

class Derived : public Base {
public:
    void NormalFunction() override {  // OK
        std::cout << "Derived::NormalFunction()\n";
    }
    
    // void FinalFunction() override {  // ì»´íŒŒì¼ ì˜¤ë¥˜! final í•¨ìˆ˜ëŠ” ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€
    //     std::cout << "Derived::FinalFunction()\n";
    // }
};

int main() {
    Derived d;
    d.NormalFunction();
    d.FinalFunction();  // Baseì˜ FinalFunction í˜¸ì¶œ
    
    return 0;
}
```

**í´ë˜ìŠ¤ì— `final` ì‚¬ìš©:**

```cpp
#include <iostream>

class FinalClass final {  // ì´ í´ë˜ìŠ¤ëŠ” ìƒì† ë¶ˆê°€
public:
    void DoSomething() {
        std::cout << "FinalClass::DoSomething()\n";
    }
};

// class Derived : public FinalClass {  // ì»´íŒŒì¼ ì˜¤ë¥˜! final í´ë˜ìŠ¤ëŠ” ìƒì† ë¶ˆê°€
// };

int main() {
    FinalClass fc;
    fc.DoSomething();
    
    return 0;
}
```

### 15.4.3 ì‹¤ìš©ì  ì˜ˆì œ: ê²Œì„ ì—”í‹°í‹° ì‹œìŠ¤í…œ

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

// ê¸°ë³¸ ì—”í‹°í‹° í´ë˜ìŠ¤
class Entity {
protected:
    std::string name_;
    double x_, y_;
    
public:
    Entity(const std::string& name, double x, double y)
        : name_(name), x_(x), y_(y) {}
    
    virtual ~Entity() = default;
    
    // ëª¨ë“  ì—”í‹°í‹°ê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
    virtual void Update(double deltaTime) = 0;  // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ (ë‹¤ìŒ ì ˆì—ì„œ ì„¤ëª…)
    virtual void Render() const = 0;
    
    // ìœ„ì¹˜ ê´€ë ¨ í•¨ìˆ˜
    virtual void Move(double dx, double dy) {
        x_ += dx;
        y_ += dy;
    }
    
    void GetPosition(double& x, double& y) const {
        x = x_;
        y = y_;
    }
    
    std::string GetName() const { return name_; }
};

// í”Œë ˆì´ì–´ í´ë˜ìŠ¤
class Player final : public Entity {  // final: ë” ì´ìƒ ìƒì† ë¶ˆê°€
private:
    int health_;
    int score_;
    
public:
    Player(const std::string& name, double x, double y)
        : Entity(name, x, y), health_(100), score_(0) {}
    
    void Update(double deltaTime) override {
        // í”Œë ˆì´ì–´ ì—…ë°ì´íŠ¸ ë¡œì§
    }
    
    void Render() const override final {  // í•¨ìˆ˜ë¥¼ finalë¡œ ì§€ì • (ì˜ë¯¸ìƒ ì¤‘ë³µì´ì§€ë§Œ ëª…ì‹œ ê°€ëŠ¥)
        std::cout << "í”Œë ˆì´ì–´ [" << name_ << "] ë Œë”ë§ at (" << x_ << ", " << y_ << ")\n";
        std::cout << "  ì²´ë ¥: " << health_ << ", ì ìˆ˜: " << score_ << "\n";
    }
    
    void TakeDamage(int damage) {
        health_ -= damage;
        std::cout << name_ << "ì´(ê°€) " << damage << "ì˜ í”¼í•´ë¥¼ ì…ì—ˆë‹¤.\n";
    }
    
    void AddScore(int points) {
        score_ += points;
        std::cout << name_ << "ì´(ê°€) " << points << "ì ì„ íšë“í–ˆë‹¤.\n";
    }
};

// ì  ê¸°ë³¸ í´ë˜ìŠ¤
class Enemy : public Entity {
protected:
    int health_;
    
public:
    Enemy(const std::string& name, double x, double y, int health)
        : Entity(name, x, y), health_(health) {}
    
    virtual ~Enemy() = default;
    
    void Update(double deltaTime) override {
        // ê¸°ë³¸ ì  ì—…ë°ì´íŠ¸ ë¡œì§
    }
    
    void Render() const override {
        std::cout << "ì  [" << name_ << "] at (" << x_ << ", " << y_ << ")\n";
    }
    
    virtual void Attack() {  // íŒŒìƒ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
        std::cout << name_ << "ì´(ê°€) ê³µê²©í•œë‹¤!\n";
    }
};

// ë³´ìŠ¤ ì  í´ë˜ìŠ¤
class BossEnemy : public Enemy {
private:
    bool isEnraged_;
    
public:
    BossEnemy(const std::string& name, double x, double y)
        : Enemy(name, x, y, 500), isEnraged_(false) {}
    
    void Update(double deltaTime) override {
        Enemy::Update(deltaTime);  // ë¶€ëª¨ í´ë˜ìŠ¤ í•¨ìˆ˜ í˜¸ì¶œ
        
        if (health_ < 100 && !isEnraged_) {
            isEnraged_ = true;
            std::cout << name_ << "ì´(ê°€) ë¶„ë…¸í–ˆë‹¤!\n";
        }
    }
    
    void Render() const override {
        std::cout << "ë³´ìŠ¤ [" << name_ << "] at (" << x_ << ", " << y_ << ")";
        if (isEnraged_) std::cout << " (ë¶„ë…¸!)";
        std::cout << "\n";
    }
    
    void Attack() override final {  // final: ë” ì´ìƒ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€
        if (isEnraged_) {
            std::cout << name_ << "ì´(ê°€) ê°•ë ¥í•œ ê³µê²©ì„ ì‹œì „í•œë‹¤!!\n";
        } else {
            std::cout << name_ << "ì´(ê°€) ê³µê²©í•œë‹¤.\n";
        }
    }
};

int main() {
    std::vector<std::unique_ptr<Entity>> entities;
    
    entities.push_back(std::make_unique<Player>("ìš©ì‚¬", 0, 0));
    entities.push_back(std::make_unique<Enemy>("ê³ ë¸”ë¦°", 10, 5, 30));
    entities.push_back(std::make_unique<BossEnemy>("ë“œë˜ê³¤", 50, 50));
    
    std::cout << "=== ëª¨ë“  ì—”í‹°í‹° ë Œë”ë§ ===\n";
    for (const auto& entity : entities) {
        entity->Render();  // ê° íƒ€ì…ì— ë§ëŠ” Render() í˜¸ì¶œ
    }
    
    std::cout << "\n=== ì—…ë°ì´íŠ¸ ===\n";
    for (const auto& entity : entities) {
        entity->Update(0.016);  // ì•½ 60 FPS
    }
    
    return 0;
}
```
  

## 15.5 ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ì™€ ì¶”ìƒ í´ë˜ìŠ¤

### 15.5.1 ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜
**ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜(Pure Virtual Function)**ëŠ” êµ¬í˜„ì´ ì—†ëŠ” ê°€ìƒ í•¨ìˆ˜ë‹¤. `= 0`ì„ ë¶™ì—¬ì„œ ì„ ì–¸í•œë‹¤.

```cpp
class AbstractClass {
public:
    virtual void PureVirtualFunction() = 0;  // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜
};
```

ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ë¼ë„ í¬í•¨í•˜ëŠ” í´ë˜ìŠ¤ëŠ” **ì¶”ìƒ í´ë˜ìŠ¤(Abstract Class)**ê°€ ë˜ë©°, ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ë‹¤.

```cpp
#include <iostream>
#include <string>

// ì¶”ìƒ í´ë˜ìŠ¤
class Animal {
protected:
    std::string name_;
    
public:
    Animal(const std::string& name) : name_(name) {}
    
    virtual ~Animal() = default;
    
    // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜: ëª¨ë“  ë™ë¬¼ì€ ì†Œë¦¬ë¥¼ ë‚´ì•¼ í•¨
    virtual void MakeSound() const = 0;
    
    // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜: ëª¨ë“  ë™ë¬¼ì€ ì›€ì§ì—¬ì•¼ í•¨
    virtual void Move() const = 0;
    
    // ì¼ë°˜ í•¨ìˆ˜: ëª¨ë“  ë™ë¬¼ì´ ê³µìœ í•˜ëŠ” êµ¬í˜„
    void Eat() const {
        std::cout << name_ << "ì´(ê°€) ë¨¹ì´ë¥¼ ë¨¹ëŠ”ë‹¤.\n";
    }
};

class Dog : public Animal {
public:
    Dog(const std::string& name) : Animal(name) {}
    
    void MakeSound() const override {
        std::cout << name_ << ": ë©ë©!\n";
    }
    
    void Move() const override {
        std::cout << name_ << "ì´(ê°€) ë„¤ ë°œë¡œ ë‹¬ë¦°ë‹¤.\n";
    }
};

class Bird : public Animal {
public:
    Bird(const std::string& name) : Animal(name) {}
    
    void MakeSound() const override {
        std::cout << name_ << ": ì§¹ì§¹!\n";
    }
    
    void Move() const override {
        std::cout << name_ << "ì´(ê°€) ë‚ ì•„ê°„ë‹¤.\n";
    }
};

// ë¶ˆì™„ì „í•œ íŒŒìƒ í´ë˜ìŠ¤: ì—¬ì „íˆ ì¶”ìƒ í´ë˜ìŠ¤
class IncompleteAnimal : public Animal {
public:
    IncompleteAnimal(const std::string& name) : Animal(name) {}
    
    void MakeSound() const override {
        std::cout << name_ << ": ???\n";
    }
    
    // Move()ë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠìŒ â†’ ì—¬ì „íˆ ì¶”ìƒ í´ë˜ìŠ¤
};

int main() {
    // Animal animal("ë™ë¬¼");  // ì˜¤ë¥˜! ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€
    // IncompleteAnimal ia("ë¶ˆì™„ì „");  // ì˜¤ë¥˜! ì—¬ì „íˆ ì¶”ìƒ í´ë˜ìŠ¤
    
    Dog dog("ë©ë©ì´");
    Bird bird("ì§¹ì§¹ì´");
    
    std::cout << "=== ê°œ ===\n";
    dog.MakeSound();
    dog.Move();
    dog.Eat();
    
    std::cout << "\n=== ìƒˆ ===\n";
    bird.MakeSound();
    bird.Move();
    bird.Eat();
    
    std::cout << "\n=== ë‹¤í˜•ì„± ===\n";
    Animal* animals[] = { &dog, &bird };
    for (int i = 0; i < 2; ++i) {
        animals[i]->MakeSound();
        animals[i]->Move();
    }
    
    return 0;
}
```

### 15.5.2 ì¸í„°í˜ì´ìŠ¤ í´ë˜ìŠ¤
C++ì—ëŠ” Javaë‚˜ C#ì˜ `interface` í‚¤ì›Œë“œê°€ ì—†ì§€ë§Œ, ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ë§Œìœ¼ë¡œ ì´ë£¨ì–´ì§„ í´ë˜ìŠ¤ë¥¼ **ì¸í„°í˜ì´ìŠ¤**ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

// ì¸í„°í˜ì´ìŠ¤: Drawable
class IDrawable {
public:
    virtual ~IDrawable() = default;
    virtual void Draw() const = 0;
};

// ì¸í„°í˜ì´ìŠ¤: Updatable
class IUpdatable {
public:
    virtual ~IUpdatable() = default;
    virtual void Update(double deltaTime) = 0;
};

// ì¸í„°í˜ì´ìŠ¤: Collidable
class ICollidable {
public:
    virtual ~ICollidable() = default;
    virtual bool CheckCollision(const ICollidable& other) const = 0;
    virtual void OnCollision(const ICollidable& other) = 0;
};

// ê²Œì„ ì˜¤ë¸Œì íŠ¸: ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
class GameObject : public IDrawable, public IUpdatable, public ICollidable {
protected:
    std::string name_;
    double x_, y_;
    double width_, height_;
    
public:
    GameObject(const std::string& name, double x, double y, double width, double height)
        : name_(name), x_(x), y_(y), width_(width), height_(height) {}
    
    virtual ~GameObject() = default;
    
    // IDrawable êµ¬í˜„
    void Draw() const override {
        std::cout << "[" << name_ << "] ê·¸ë¦¬ê¸° at (" << x_ << ", " << y_ << ")\n";
    }
    
    // IUpdatable êµ¬í˜„
    void Update(double deltaTime) override {
        // ê¸°ë³¸ ì—…ë°ì´íŠ¸ ë¡œì§
    }
    
    // ICollidable êµ¬í˜„
    bool CheckCollision(const ICollidable& other) const override {
        // ê°„ë‹¨í•œ ì¶©ëŒ ê°ì§€ (ì‹¤ì œë¡œëŠ” ë” ë³µì¡)
        return false;
    }
    
    void OnCollision(const ICollidable& other) override {
        std::cout << name_ << "ì´(ê°€) ì¶©ëŒí–ˆë‹¤!\n";
    }
    
    std::string GetName() const { return name_; }
};

class Bullet : public GameObject {
private:
    double velocityX_, velocityY_;
    
public:
    Bullet(double x, double y)
        : GameObject("Bullet", x, y, 2, 2),
          velocityX_(10), velocityY_(0) {}
    
    void Update(double deltaTime) override {
        x_ += velocityX_ * deltaTime;
        y_ += velocityY_ * deltaTime;
    }
    
    void Draw() const override {
        std::cout << "â€¢ ì´ì•Œ at (" << x_ << ", " << y_ << ")\n";
    }
};

class Enemy : public GameObject {
private:
    int health_;
    
public:
    Enemy(double x, double y)
        : GameObject("Enemy", x, y, 20, 20), health_(100) {}
    
    void Update(double deltaTime) override {
        // ì  AI ë¡œì§
        x_ -= 5 * deltaTime;  // ì™¼ìª½ìœ¼ë¡œ ì´ë™
    }
    
    void Draw() const override {
        std::cout << "ğŸ‘¾ ì  at (" << x_ << ", " << y_ << ") [ì²´ë ¥: " << health_ << "]\n";
    }
    
    void TakeDamage(int damage) {
        health_ -= damage;
        if (health_ <= 0) {
            std::cout << "ì ì´ íŒŒê´´ë˜ì—ˆë‹¤!\n";
        }
    }
};

int main() {
    std::vector<std::unique_ptr<IDrawable>> drawables;
    std::vector<std::unique_ptr<IUpdatable>> updatables;
    
    auto bullet = std::make_unique<Bullet>(0, 10);
    auto enemy = std::make_unique<Enemy>(100, 10);
    
    std::cout << "=== ì´ˆê¸° ë Œë”ë§ ===\n";
    bullet->Draw();
    enemy->Draw();
    
    std::cout << "\n=== ì—…ë°ì´íŠ¸ (1ì´ˆ) ===\n";
    bullet->Update(1.0);
    enemy->Update(1.0);
    
    std::cout << "\n=== ì—…ë°ì´íŠ¸ í›„ ë Œë”ë§ ===\n";
    bullet->Draw();
    enemy->Draw();
    
    return 0;
}
```

**ì¸í„°í˜ì´ìŠ¤ ëª…ëª… ê·œì¹™:** C++ì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤ í´ë˜ìŠ¤ ì´ë¦„ ì•ì— `I`ë¥¼ ë¶™ì´ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤ (ì˜ˆ: `IDrawable`, `IUpdatable`).

### 15.5.3 ì¶”ìƒ í´ë˜ìŠ¤ vs ì¸í„°í˜ì´ìŠ¤

| íŠ¹ì„± | ì¶”ìƒ í´ë˜ìŠ¤ | ì¸í„°í˜ì´ìŠ¤ |
|------|-------------|------------|
| ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ | ì¼ë¶€ ë˜ëŠ” ì „ì²´ | ì „ì²´ |
| ì¼ë°˜ í•¨ìˆ˜ | ê°€ì§ˆ ìˆ˜ ìˆìŒ | ì—†ìŒ (ê´€ë¡€ìƒ) |
| ë©¤ë²„ ë³€ìˆ˜ | ê°€ì§ˆ ìˆ˜ ìˆìŒ | ì—†ìŒ (ê´€ë¡€ìƒ) |
| ë‹¤ì¤‘ ìƒì† | ê¶Œì¥í•˜ì§€ ì•ŠìŒ | ì¼ë°˜ì  |
| ìš©ë„ | ê³µí†µ ê¸°ëŠ¥ ê³µìœ  | ê³„ì•½ ì •ì˜ |
  

</br>  
</br>  
  
  
## 15.6 ì‹¤ìŠµ ì˜ˆì œ: RPG ìŠ¤í‚¬ ì‹œìŠ¤í…œ
ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ ì¢…í•©í•˜ì—¬ RPG ê²Œì„ì˜ ìŠ¤í‚¬ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë³´ì.

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

// ìŠ¤í‚¬ ì¸í„°í˜ì´ìŠ¤
class ISkill {
public:
    virtual ~ISkill() = default;
    virtual std::string GetName() const = 0;
    virtual int GetManaCost() const = 0;
    virtual void Cast() = 0;
    virtual bool CanCast(int currentMana) const = 0;
};

// ê¸°ë³¸ ìŠ¤í‚¬ ì¶”ìƒ í´ë˜ìŠ¤
class Skill : public ISkill {
protected:
    std::string name_;
    int manaCost_;
    int cooldown_;
    int currentCooldown_;
    
public:
    Skill(const std::string& name, int manaCost, int cooldown)
        : name_(name), manaCost_(manaCost), cooldown_(cooldown), currentCooldown_(0) {}
    
    virtual ~Skill() = default;
    
    std::string GetName() const override {
        return name_;
    }
    
    int GetManaCost() const override {
        return manaCost_;
    }
    
    bool CanCast(int currentMana) const override {
        return currentMana >= manaCost_ && currentCooldown_ == 0;
    }
    
    void Update() {
        if (currentCooldown_ > 0) {
            currentCooldown_--;
        }
    }
    
    // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜: ê° ìŠ¤í‚¬ì˜ ê³ ìœ  íš¨ê³¼
    void Cast() override = 0;
    
protected:
    void StartCooldown() {
        currentCooldown_ = cooldown_;
    }
};

// ê³µê²© ìŠ¤í‚¬
class AttackSkill : public Skill {
private:
    int damage_;
    
public:
    AttackSkill(const std::string& name, int manaCost, int cooldown, int damage)
        : Skill(name, manaCost, cooldown), damage_(damage) {}
    
    void Cast() override {
        std::cout << "ğŸ’¥ [" << name_ << "] " << damage_ << "ì˜ í”¼í•´ë¥¼ ì…íŒë‹¤!\n";
        StartCooldown();
    }
};

// íšŒë³µ ìŠ¤í‚¬
class HealSkill : public Skill {
private:
    int healAmount_;
    
public:
    HealSkill(const std::string& name, int manaCost, int cooldown, int healAmount)
        : Skill(name, manaCost, cooldown), healAmount_(healAmount) {}
    
    void Cast() override {
        std::cout << "ğŸ’š [" << name_ << "] " << healAmount_ << "ë§Œí¼ ì²´ë ¥ì„ íšŒë³µí•œë‹¤!\n";
        StartCooldown();
    }
};

// ë²„í”„ ìŠ¤í‚¬
class BuffSkill final : public Skill {  // final: ë” ì´ìƒ ìƒì† ë¶ˆê°€
private:
    std::string buffType_;
    int duration_;
    
public:
    BuffSkill(const std::string& name, int manaCost, int cooldown,
              const std::string& buffType, int duration)
        : Skill(name, manaCost, cooldown), buffType_(buffType), duration_(duration) {}
    
    void Cast() override final {  // final: ë” ì´ìƒ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€
        std::cout << "âœ¨ [" << name_ << "] " << buffType_ << " ë²„í”„ë¥¼ ";
        std::cout << duration_ << "ì´ˆê°„ ì ìš©í•œë‹¤!\n";
        StartCooldown();
    }
};

// ìºë¦­í„° í´ë˜ìŠ¤
class Character {
private:
    std::string name_;
    int health_;
    int maxHealth_;
    int mana_;
    int maxMana_;
    std::vector<std::unique_ptr<Skill>> skills_;
    
public:
    Character(const std::string& name, int maxHealth, int maxMana)
        : name_(name),
          health_(maxHealth),
          maxHealth_(maxHealth),
          mana_(maxMana),
          maxMana_(maxMana) {}
    
    void AddSkill(std::unique_ptr<Skill> skill) {
        skills_.push_back(std::move(skill));
    }
    
    void UseSkill(int index) {
        if (index < 0 || index >= skills_.size()) {
            std::cout << "ì˜ëª»ëœ ìŠ¤í‚¬ ë²ˆí˜¸ë‹¤.\n";
            return;
        }
        
        Skill* skill = skills_[index].get();
        
        if (!skill->CanCast(mana_)) {
            std::cout << "ë§ˆë‚˜ê°€ ë¶€ì¡±í•˜ê±°ë‚˜ ì¬ì‚¬ìš© ëŒ€ê¸° ì¤‘ì´ë‹¤.\n";
            return;
        }
        
        mana_ -= skill->GetManaCost();
        skill->Cast();
        
        std::cout << "  (ë‚¨ì€ ë§ˆë‚˜: " << mana_ << "/" << maxMana_ << ")\n";
    }
    
    void UpdateSkills() {
        for (auto& skill : skills_) {
            skill->Update();
        }
    }
    
    void DisplaySkills() const {
        std::cout << "\n=== " << name_ << "ì˜ ìŠ¤í‚¬ ëª©ë¡ ===\n";
        for (size_t i = 0; i < skills_.size(); ++i) {
            std::cout << i << ". " << skills_[i]->GetName();
            std::cout << " (ë§ˆë‚˜: " << skills_[i]->GetManaCost() << ")\n";
        }
    }
    
    void DisplayStatus() const {
        std::cout << "\n[" << name_ << "] ";
        std::cout << "ì²´ë ¥: " << health_ << "/" << maxHealth_ << ", ";
        std::cout << "ë§ˆë‚˜: " << mana_ << "/" << maxMana_ << "\n";
    }
    
    void RestoreMana(int amount) {
        mana_ += amount;
        if (mana_ > maxMana_) mana_ = maxMana_;
    }
};

int main() {
    Character mage("ë§ˆë²•ì‚¬", 100, 200);
    
    // ìŠ¤í‚¬ ì¶”ê°€
    mage.AddSkill(std::make_unique<AttackSkill>("íŒŒì´ì–´ë³¼", 30, 2, 50));
    mage.AddSkill(std::make_unique<AttackSkill>("ë¼ì´íŠ¸ë‹", 50, 3, 80));
    mage.AddSkill(std::make_unique<HealSkill>("í", 40, 5, 60));
    mage.AddSkill(std::make_unique<BuffSkill>("ë§ˆë²• ë³´í˜¸ë§‰", 25, 10, "ë°©ì–´ë ¥ ì¦ê°€", 30));
    
    mage.DisplayStatus();
    mage.DisplaySkills();
    
    std::cout << "\n=== ì „íˆ¬ ì‹œì‘ ===\n";
    
    // í„´ 1
    std::cout << "\n--- í„´ 1 ---\n";
    mage.UseSkill(0);  // íŒŒì´ì–´ë³¼
    
    // í„´ 2
    std::cout << "\n--- í„´ 2 ---\n";
    mage.UseSkill(1);  // ë¼ì´íŠ¸ë‹
    mage.UpdateSkills();
    
    // í„´ 3
    std::cout << "\n--- í„´ 3 ---\n";
    mage.UseSkill(3);  // ë²„í”„
    mage.UpdateSkills();
    
    // í„´ 4
    std::cout << "\n--- í„´ 4 ---\n";
    mage.UseSkill(0);  // íŒŒì´ì–´ë³¼ (ì¬ì‚¬ìš© ëŒ€ê¸° ì¤‘)
    mage.UpdateSkills();
    
    // í„´ 5
    std::cout << "\n--- í„´ 5 ---\n";
    mage.UseSkill(0);  // íŒŒì´ì–´ë³¼ (ì´ì œ ì‚¬ìš© ê°€ëŠ¥)
    mage.UseSkill(2);  // í
    
    mage.DisplayStatus();
    
    return 0;
}
```
  
  
</br>  
</br>      
  

## 15.7 ì—°ìŠµ ë¬¸ì œ

### ë¬¸ì œ 1: ë„í˜• ê³„ì¸µ êµ¬ì¡°
ë‹¤ì–‘í•œ ë„í˜•ì„ í‘œí˜„í•˜ëŠ” í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ë¼.

**ìš”êµ¬ì‚¬í•­:**
- `Shape` ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤
  - ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜: `GetArea()`, `GetPerimeter()`, `Draw()`
- íŒŒìƒ í´ë˜ìŠ¤: `Circle`, `Rectangle`, `Triangle`
- ê° ë„í˜•ì˜ ë„“ì´ì™€ ë‘˜ë ˆë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ êµ¬í˜„
- `override` í‚¤ì›Œë“œ ì‚¬ìš©

**í•´ë‹µ:**

```cpp
#include <iostream>
#include <cmath>
#include <vector>
#include <memory>

// ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤
class Shape {
protected:
    std::string name_;
    
public:
    Shape(const std::string& name) : name_(name) {}
    virtual ~Shape() = default;
    
    // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ë“¤
    virtual double GetArea() const = 0;
    virtual double GetPerimeter() const = 0;
    virtual void Draw() const = 0;
    
    std::string GetName() const { return name_; }
    
    void DisplayInfo() const {
        std::cout << "\n=== " << name_ << " ===\n";
        Draw();
        std::cout << "ë„“ì´: " << GetArea() << "\n";
        std::cout << "ë‘˜ë ˆ: " << GetPerimeter() << "\n";
    }
};

// ì›
class Circle final : public Shape {
private:
    double radius_;
    static constexpr double PI = 3.14159265359;
    
public:
    Circle(double radius) : Shape("ì›"), radius_(radius) {}
    
    double GetArea() const override {
        return PI * radius_ * radius_;
    }
    
    double GetPerimeter() const override {
        return 2 * PI * radius_;
    }
    
    void Draw() const override {
        std::cout << "â—‹ ë°˜ì§€ë¦„: " << radius_ << "\n";
    }
};

// ì§ì‚¬ê°í˜•
class Rectangle final : public Shape {
private:
    double width_;
    double height_;
    
public:
    Rectangle(double width, double height)
        : Shape("ì§ì‚¬ê°í˜•"), width_(width), height_(height) {}
    
    double GetArea() const override {
        return width_ * height_;
    }
    
    double GetPerimeter() const override {
        return 2 * (width_ + height_);
    }
    
    void Draw() const override {
        std::cout << "â–¡ ê°€ë¡œ: " << width_ << ", ì„¸ë¡œ: " << height_ << "\n";
    }
};

// ì‚¼ê°í˜•
class Triangle final : public Shape {
private:
    double side1_;
    double side2_;
    double side3_;
    
public:
    Triangle(double side1, double side2, double side3)
        : Shape("ì‚¼ê°í˜•"), side1_(side1), side2_(side2), side3_(side3) {}
    
    double GetArea() const override {
        // í—¤ë¡ ì˜ ê³µì‹
        double s = GetPerimeter() / 2.0;
        return std::sqrt(s * (s - side1_) * (s - side2_) * (s - side3_));
    }
    
    double GetPerimeter() const override {
        return side1_ + side2_ + side3_;
    }
    
    void Draw() const override {
        std::cout << "â–³ ë³€ì˜ ê¸¸ì´: " << side1_ << ", " << side2_ << ", " << side3_ << "\n";
    }
};

int main() {
    std::vector<std::unique_ptr<Shape>> shapes;
    
    shapes.push_back(std::make_unique<Circle>(5.0));
    shapes.push_back(std::make_unique<Rectangle>(4.0, 6.0));
    shapes.push_back(std::make_unique<Triangle>(3.0, 4.0, 5.0));
    
    double totalArea = 0.0;
    
    for (const auto& shape : shapes) {
        shape->DisplayInfo();
        totalArea += shape->GetArea();
    }
    
    std::cout << "\nì´ ë„“ì´: " << totalArea << "\n";
    
    return 0;
}
```

### ë¬¸ì œ 2: ì°¨ëŸ‰ ê´€ë¦¬ ì‹œìŠ¤í…œ
ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì°¨ëŸ‰ì„ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë¼.

**ìš”êµ¬ì‚¬í•­:**
- `Vehicle` ê¸°ë³¸ í´ë˜ìŠ¤ (ê°€ìƒ ì†Œë©¸ì í¬í•¨)
- `Car`, `Truck`, `Motorcycle` íŒŒìƒ í´ë˜ìŠ¤
- ê° ì°¨ëŸ‰ì˜ ì—°ë£Œ íš¨ìœ¨ ê³„ì‚°
- ë‹¤í˜•ì„±ì„ í™œìš©í•œ ì°¨ëŸ‰ ëª©ë¡ ê´€ë¦¬

**í•´ë‹µ:**

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

class Vehicle {
protected:
    std::string model_;
    int year_;
    double fuelCapacity_;
    double currentFuel_;
    
public:
    Vehicle(const std::string& model, int year, double fuelCapacity)
        : model_(model), year_(year), fuelCapacity_(fuelCapacity), currentFuel_(0) {}
    
    virtual ~Vehicle() {
        std::cout << model_ << " ì°¨ëŸ‰ ì •ë³´ ì‚­ì œ\n";
    }
    
    // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜
    virtual double GetFuelEfficiency() const = 0;
    virtual std::string GetVehicleType() const = 0;
    
    void Refuel(double amount) {
        currentFuel_ += amount;
        if (currentFuel_ > fuelCapacity_) {
            currentFuel_ = fuelCapacity_;
        }
        std::cout << model_ << " ì£¼ìœ : " << amount << "L\n";
    }
    
    virtual void Drive(double distance) {
        double fuelNeeded = distance / GetFuelEfficiency();
        if (fuelNeeded <= currentFuel_) {
            currentFuel_ -= fuelNeeded;
            std::cout << model_ << "ì´(ê°€) " << distance << "km ì£¼í–‰í–ˆë‹¤. ";
            std::cout << "(ë‚¨ì€ ì—°ë£Œ: " << currentFuel_ << "L)\n";
        } else {
            std::cout << model_ << ": ì—°ë£Œê°€ ë¶€ì¡±í•˜ë‹¤!\n";
        }
    }
    
    void DisplayInfo() const {
        std::cout << "\n[" << GetVehicleType() << "] " << model_ << " (" << year_ << "ë…„ì‹)\n";
        std::cout << "ì—°ë£Œ: " << currentFuel_ << "/" << fuelCapacity_ << "L\n";
        std::cout << "ì—°ë¹„: " << GetFuelEfficiency() << "km/L\n";
    }
};

class Car : public Vehicle {
private:
    int numDoors_;
    
public:
    Car(const std::string& model, int year, int numDoors)
        : Vehicle(model, year, 50.0), numDoors_(numDoors) {}
    
    double GetFuelEfficiency() const override {
        return 12.0;  // 12 km/L
    }
    
    std::string GetVehicleType() const override {
        return "ìŠ¹ìš©ì°¨";
    }
};

class Truck : public Vehicle {
private:
    double cargoCapacity_;
    
public:
    Truck(const std::string& model, int year, double cargoCapacity)
        : Vehicle(model, year, 100.0), cargoCapacity_(cargoCapacity) {}
    
    double GetFuelEfficiency() const override {
        return 6.0;  // 6 km/L
    }
    
    std::string GetVehicleType() const override {
        return "íŠ¸ëŸ­";
    }
    
    void Drive(double distance) override {
        std::cout << "í™”ë¬¼ì„ ì‹£ê³  ";
        Vehicle::Drive(distance);
    }
};

class Motorcycle : public Vehicle {
private:
    bool hasSidecar_;
    
public:
    Motorcycle(const std::string& model, int year, bool hasSidecar)
        : Vehicle(model, year, 15.0), hasSidecar_(hasSidecar) {}
    
    double GetFuelEfficiency() const override {
        return 25.0;  // 25 km/L
    }
    
    std::string GetVehicleType() const override {
        return "ì˜¤í† ë°”ì´";
    }
};

int main() {
    std::vector<std::unique_ptr<Vehicle>> fleet;
    
    fleet.push_back(std::make_unique<Car>("ì†Œë‚˜íƒ€", 2023, 4));
    fleet.push_back(std::make_unique<Truck>("í¬í„°", 2022, 1000));
    fleet.push_back(std::make_unique<Motorcycle>("í• ë¦¬ë°ì´ë¹„ìŠ¨", 2021, false));
    
    std::cout << "=== ì°¨ëŸ‰ ì •ë³´ ===\n";
    for (const auto& vehicle : fleet) {
        vehicle->DisplayInfo();
    }
    
    std::cout << "\n=== ì£¼ìœ  ===\n";
    for (const auto& vehicle : fleet) {
        vehicle->Refuel(50);
    }
    
    std::cout << "\n=== ì£¼í–‰ ===\n";
    for (const auto& vehicle : fleet) {
        vehicle->Drive(100);
    }
    
    std::cout << "\n=== í”„ë¡œê·¸ë¨ ì¢…ë£Œ ===\n";
    return 0;
}
```

### ë¬¸ì œ 3: ì¸í„°í˜ì´ìŠ¤ ë‹¤ì¤‘ ìƒì†
íŒŒì¼ ì‹œìŠ¤í…œì˜ íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ë¥¼ í‘œí˜„í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë¼. ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ë¼.

**ìš”êµ¬ì‚¬í•­:**
- `IReadable`, `IWritable` ì¸í„°í˜ì´ìŠ¤
- `File`ê³¼ `Directory` í´ë˜ìŠ¤
- ë‹¤í˜•ì„±ì„ í™œìš©í•œ íŒŒì¼ ì‹œìŠ¤í…œ íƒìƒ‰

**í•´ë‹µ:**

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>

// ì½ê¸° ì¸í„°í˜ì´ìŠ¤
class IReadable {
public:
    virtual ~IReadable() = default;
    virtual std::string Read() const = 0;
};

// ì“°ê¸° ì¸í„°í˜ì´ìŠ¤
class IWritable {
public:
    virtual ~IWritable() = default;
    virtual void Write(const std::string& content) = 0;
};

// íŒŒì¼ ì‹œìŠ¤í…œ ìš”ì†Œ ê¸°ë³¸ í´ë˜ìŠ¤
class FileSystemElement {
protected:
    std::string name_;
    size_t size_;
    
public:
    FileSystemElement(const std::string& name, size_t size)
        : name_(name), size_(size) {}
    
    virtual ~FileSystemElement() = default;
    
    virtual void DisplayInfo(int indent = 0) const = 0;
    
    std::string GetName() const { return name_; }
    size_t GetSize() const { return size_; }
};

// íŒŒì¼ í´ë˜ìŠ¤
class File final : public FileSystemElement, public IReadable, public IWritable {
private:
    std::string content_;
    
public:
    File(const std::string& name)
        : FileSystemElement(name, 0), content_("") {}
    
    std::string Read() const override {
        return content_;
    }
    
    void Write(const std::string& content) override {
        content_ = content;
        size_ = content.length();
        std::cout << "íŒŒì¼ \"" << name_ << "\"ì— " << size_ << " ë°”ì´íŠ¸ ì‘ì„±ë¨\n";
    }
    
    void DisplayInfo(int indent = 0) const override {
        std::string indentStr(indent * 2, ' ');
        std::cout << indentStr << "ğŸ“„ " << name_ << " (" << size_ << " bytes)\n";
    }
};

// ë””ë ‰í† ë¦¬ í´ë˜ìŠ¤
class Directory final : public FileSystemElement {
private:
    std::vector<std::unique_ptr<FileSystemElement>> elements_;
    
public:
    Directory(const std::string& name)
        : FileSystemElement(name, 0) {}
    
    void AddElement(std::unique_ptr<FileSystemElement> element) {
        size_ += element->GetSize();
        elements_.push_back(std::move(element));
    }
    
    void DisplayInfo(int indent = 0) const override {
        std::string indentStr(indent * 2, ' ');
        std::cout << indentStr << "ğŸ“ " << name_ << "/\n";
        
        for (const auto& element : elements_) {
            element->DisplayInfo(indent + 1);
        }
    }
    
    size_t GetTotalSize() const {
        size_t total = 0;
        for (const auto& element : elements_) {
            total += element->GetSize();
        }
        return total;
    }
};

int main() {
    // ë£¨íŠ¸ ë””ë ‰í† ë¦¬
    auto root = std::make_unique<Directory>("root");
    
    // íŒŒì¼ ìƒì„± ë° ì‘ì„±
    auto file1 = std::make_unique<File>("readme.txt");
    file1->Write("This is a readme file.");
    
    auto file2 = std::make_unique<File>("data.txt");
    file2->Write("Some data here.");
    
    // ì„œë¸Œ ë””ë ‰í† ë¦¬
    auto docs = std::make_unique<Directory>("documents");
    auto doc1 = std::make_unique<File>("report.doc");
    doc1->Write("Annual report content...");
    docs->AddElement(std::move(doc1));
    
    // íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì„±
    root->AddElement(std::move(file1));
    root->AddElement(std::move(file2));
    root->AddElement(std::move(docs));
    
    std::cout << "\n=== íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¡° ===\n";
    root->DisplayInfo();
    
    std::cout << "\nì´ í¬ê¸°: " << root->GetTotalSize() << " bytes\n";
    
    return 0;
}
```
  

</br>  
</br>  
  

## 15.8 ì‹¬í™” ë‚´ìš©

### 15.8.1 ë‹¤ì¤‘ ìƒì†
C++ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ë¡œë¶€í„° ë™ì‹œì— ìƒì†ë°›ëŠ” ë‹¤ì¤‘ ìƒì†ì„ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ ë³µì¡ì„±ì´ ì¦ê°€í•˜ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```cpp
#include <iostream>
#include <string>

class Flyable {
public:
    virtual void Fly() {
        std::cout << "ë‚ ì•„ê°„ë‹¤.\n";
    }
    virtual ~Flyable() = default;
};

class Swimmable {
public:
    virtual void Swim() {
        std::cout << "í—¤ì—„ì¹œë‹¤.\n";
    }
    virtual ~Swimmable() = default;
};

// ë‹¤ì¤‘ ìƒì†
class Duck : public Flyable, public Swimmable {
private:
    std::string name_;
    
public:
    Duck(const std::string& name) : name_(name) {}
    
    void Fly() override {
        std::cout << name_ << "ì´(ê°€) ë‚ ì•„ê°„ë‹¤.\n";
    }
    
    void Swim() override {
        std::cout << name_ << "ì´(ê°€) í—¤ì—„ì¹œë‹¤.\n";
    }
    
    void Quack() {
        std::cout << name_ << ": ê½¥ê½¥!\n";
    }
};

int main() {
    Duck donald("ë„ë‚ ë“œ");
    
    donald.Fly();
    donald.Swim();
    donald.Quack();
    
    // ê° ê¸°ë³¸ í´ë˜ìŠ¤ í¬ì¸í„°ë¡œ ë³€í™˜ ê°€ëŠ¥
    Flyable* flyable = &donald;
    flyable->Fly();
    
    Swimmable* swimmable = &donald;
    swimmable->Swim();
    
    return 0;
}
```

### 15.8.2 ë‹¤ì´ì•„ëª¬ë“œ ë¬¸ì œì™€ ê°€ìƒ ìƒì†
ë‹¤ì¤‘ ìƒì† ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì´ì•„ëª¬ë“œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°€ìƒ ìƒì†ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>

// ë‹¤ì´ì•„ëª¬ë“œ ë¬¸ì œ
class Animal {
public:
    void Eat() {
        std::cout << "ë™ë¬¼ì´ ë¨¹ëŠ”ë‹¤.\n";
    }
};

class Mammal : virtual public Animal {  // ê°€ìƒ ìƒì†
public:
    void GiveBirth() {
        std::cout << "ìƒˆë¼ë¥¼ ë‚³ëŠ”ë‹¤.\n";
    }
};

class Bird : virtual public Animal {  // ê°€ìƒ ìƒì†
public:
    void LayEggs() {
        std::cout << "ì•Œì„ ë‚³ëŠ”ë‹¤.\n";
    }
};

// Batì€ Animalì„ í•œ ë²ˆë§Œ ìƒì†ë°›ìŒ
class Bat : public Mammal, public Bird {
public:
    void Echolocate() {
        std::cout << "ì´ˆìŒíŒŒë¥¼ ì‚¬ìš©í•œë‹¤.\n";
    }
};

int main() {
    Bat bat;
    bat.Eat();  // ëª¨í˜¸í•˜ì§€ ì•ŠìŒ (ê°€ìƒ ìƒì† ë•ë¶„)
    bat.GiveBirth();
    bat.LayEggs();
    bat.Echolocate();
    
    return 0;
}
```

**Modern C++ ê¶Œì¥ì‚¬í•­:** ë‹¤ì¤‘ ìƒì†ì€ ë³µì¡ë„ë¥¼ ì¦ê°€ì‹œí‚¤ë¯€ë¡œ, ê°€ëŠ¥í•˜ë©´ ì¸í„°í˜ì´ìŠ¤(ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ë§Œ ìˆëŠ” í´ë˜ìŠ¤)ì˜ ë‹¤ì¤‘ ìƒì†ë§Œ ì‚¬ìš©í•˜ë¼.

### 15.8.3 CRTP (Curiously Recurring Template Pattern)
ê³ ê¸‰ ê¸°ë²•ìœ¼ë¡œ, ì»´íŒŒì¼ íƒ€ì„ ë‹¤í˜•ì„±ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>

// CRTP: íŒŒìƒ í´ë˜ìŠ¤ë¥¼ í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
template<typename Derived>
class Shape {
public:
    void Draw() const {
        static_cast<const Derived*>(this)->DrawImpl();
    }
    
    double GetArea() const {
        return static_cast<const Derived*>(this)->GetAreaImpl();
    }
};

class Circle : public Shape<Circle> {
private:
    double radius_;
    
public:
    Circle(double radius) : radius_(radius) {}
    
    void DrawImpl() const {
        std::cout << "â—‹ ì› ê·¸ë¦¬ê¸°\n";
    }
    
    double GetAreaImpl() const {
        return 3.14159 * radius_ * radius_;
    }
};

class Rectangle : public Shape<Rectangle> {
private:
    double width_, height_;
    
public:
    Rectangle(double w, double h) : width_(w), height_(h) {}
    
    void DrawImpl() const {
        std::cout << "â–¡ ì‚¬ê°í˜• ê·¸ë¦¬ê¸°\n";
    }
    
    double GetAreaImpl() const {
        return width_ * height_;
    }
};

// ì œë„¤ë¦­ í•¨ìˆ˜ (ëŸ°íƒ€ì„ ë‹¤í˜•ì„± ì—†ì´ ì‘ë™)
template<typename T>
void ProcessShape(const Shape<T>& shape) {
    shape.Draw();
    std::cout << "ë„“ì´: " << shape.GetArea() << "\n";
}

int main() {
    Circle circle(5.0);
    Rectangle rect(4.0, 6.0);
    
    ProcessShape(circle);
    ProcessShape(rect);
    
    return 0;
}
```

CRTPëŠ” ê°€ìƒ í•¨ìˆ˜ì˜ ì˜¤ë²„í—¤ë“œ ì—†ì´ ë‹¤í˜•ì„±ì„ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ, ëŸ°íƒ€ì„ ë‹¤í˜•ì„±ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.
  

</br>  
</br>  


## 15.9 ì •ë¦¬
ì´ë²ˆ ì¥ì—ì„œëŠ” ìƒì†ê³¼ ë‹¤í˜•ì„±ì— ëŒ€í•´ ë°°ì› ë‹¤. í•µì‹¬ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´:

1. **ìƒì†**: ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•˜ê³  í™•ì¥í•œë‹¤
2. **ì ‘ê·¼ ì§€ì •ì**: `public` ìƒì†ì´ ê°€ì¥ ì¼ë°˜ì ì´ë©° "is-a" ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤
3. **ê°€ìƒ í•¨ìˆ˜**: `virtual` í‚¤ì›Œë“œë¡œ ë™ì  ë°”ì¸ë”©ì„ í™œì„±í™”í•œë‹¤
4. **ê°€ìƒ ì†Œë©¸ì**: ìƒì† ê´€ê³„ì—ì„œëŠ” ë°˜ë“œì‹œ ê°€ìƒ ì†Œë©¸ìë¥¼ ì‚¬ìš©í•œë‹¤
5. **`override`**: ì˜¤ë²„ë¼ì´ë”© ì˜ë„ë¥¼ ëª…í™•íˆ í•˜ê³  ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•œë‹¤
6. **`final`**: ì¶”ê°€ ì˜¤ë²„ë¼ì´ë”©ì´ë‚˜ ìƒì†ì„ ê¸ˆì§€í•œë‹¤
7. **ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜**: ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³  êµ¬í˜„ì„ ê°•ì œí•œë‹¤
8. **ì¶”ìƒ í´ë˜ìŠ¤**: ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ìœ¼ë©° íŒŒìƒ í´ë˜ìŠ¤ì˜ í…œí”Œë¦¿ ì—­í• ì„ í•œë‹¤

**Modern C++ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤:**

```cpp
// âœ… ì¢‹ì€ ì˜ˆ
class Base {
public:
    virtual ~Base() = default;  // ê°€ìƒ ì†Œë©¸ì
    virtual void Function() = 0;  // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜
};

class Derived final : public Base {  // final: ë” ì´ìƒ ìƒì† ë¶ˆê°€
public:
    void Function() override {  // override: ëª…ì‹œì  í‘œì‹œ
        // êµ¬í˜„
    }
};

// âš ï¸ ì£¼ì˜í•  ì˜ˆ
class OldBase {
public:
    ~OldBase() {}  // ê°€ìƒì´ ì•„ë‹Œ ì†Œë©¸ì (ìœ„í—˜!)
    virtual void Function() {}  // override ì—†ì´ ì˜¤ë²„ë¼ì´ë”© (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
};
```

ë‹¤ìŒ ì¥ì—ì„œëŠ” í…œí”Œë¦¿ì„ ë‹¤ë£¨ë©°, íƒ€ì…ì— ë…ë¦½ì ì¸ ì œë„¤ë¦­ í”„ë¡œê·¸ë˜ë°ì„ ë°°ìš´ë‹¤. ìƒì†ê³¼ ë‹¤í˜•ì„±ì„ í†µí•œ ëŸ°íƒ€ì„ ë‹¤í˜•ì„±ê³¼ í…œí”Œë¦¿ì„ í†µí•œ ì»´íŒŒì¼ íƒ€ì„ ë‹¤í˜•ì„±ì„ ë¹„êµí•˜ë©´ì„œ ê°ê°ì˜ ì¥ë‹¨ì ì„ ì´í•´í•˜ê²Œ ë  ê²ƒì´ë‹¤.  